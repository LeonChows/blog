<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>gdb命令使用 | LeonChow</title>

  
  <meta name="author" content="Chow">
  

  
  <meta name="description" content="在程序编译时增加-g选项以支持gdb调试
如：
$ gcc -g example.c -o example.x
通过上述命令对example.c编译之后，使用下列命令进入到gdb调试：
$ gdb example.x
在gdb调试中，常用的命令有以下几个：
$ list 缩略为 l
列出程序源码，每">
  

  
  
  <meta name="keywords" content="">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="gdb命令使用"/>

  <meta property="og:site_name" content="LeonChow"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="LeonChow" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">LeonChow</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>gdb命令使用</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2025/06/05/gdb命令使用/" rel="bookmark">
        <time class="entry-date published" datetime="2025-06-05T12:10:46.000Z">
          2025-06-05
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><img src="/2025/06/05/gdb%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8/image-20250605201312437.png" alt="image-20250605201312437"></p>
<p><img src="/2025/06/05/gdb%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8/image-20250605201322893.png" alt="image-20250605201322893"></p>
<p><img src="/2025/06/05/gdb%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8/image-20250605201333209.png" alt="image-20250605201333209"></p>
<p><strong>在程序编译时增加-g选项以支持gdb调试</strong></p>
<p>如：</p>
<p>$ gcc -g example.c -o example.x</p>
<p>通过上述命令对example.c编译之后，使用下列命令进入到gdb调试：</p>
<p>$ gdb example.x</p>
<p>在gdb调试中，常用的命令有以下几个：</p>
<p>$ list 缩略为 l</p>
<p>列出程序源码，每次列出10行，按回车重复运行上一命令；</p>
<p>$ run 缩略为 r</p>
<p>程序开始运行，在r后可以加入程序启动参数，程序运行到断点处暂停；</p>
<p>$ continue 缩略为 c</p>
<p>程序继续运行，到下一断点处暂停；</p>
<p>单步调试</p>
<p>$ step 缩略为s</p>
<p>$ next 缩略为 n</p>
<p>程序继续运行到下一断点；</p>
<p>$ break 缩略为 b</p>
<p>在程序某一位置设置断点；</p>
<p>$ info break 缩略为 i b</p>
<p>查看断点信息；</p>
<p>设置&#x2F;查看运行参数</p>
<p>$ set args —&#x2F;show args</p>
<p>加载运行中的进程进行调试(Attach to the running process to be debugged.)：</p>
<p>$ gdb attatch pid</p>
<p>Specifying source directories</p>
<p>$ dir dirname …</p>
<p>以十六进制输出内存块数据</p>
<p>$ x&#x2F;28hx —</p>
<p>段错误调试，core文件样例</p>
<p>通过ulimit命令查看一下系统是否配置支持了dump core的功能。通过ulimit -c或ulimit -a，可以查看core file大小的配置情况，如果为0，则表示系统关闭了dump core；可以通过ulimit -c unlimited来打开。若发生了段错误，但没有core dump，是由于系统禁止core文件的生成。</p>
<p><strong>$ gdb [exec file] [core file]</strong></p>
<p>查看堆栈信息：</p>
<p>$ bt</p>
<p>PS：对于python程序在linux下可以使用pdb做调试！</p>
<p>Published by Windows Livewriter.</p>
<p><strong>调试开始时，必须先载入要进行调试的程序，可以用以下两种方式：</strong></p>
<p>　* 在启动gdb后执行以下命令：</p>
<p>　　　file 可执行文件路径</p>
<p>　* 在gdb启动时就载入程序：</p>
<p>　　　gdb 可执行文件路径</p>
<p>载入程序后，接下来就是要进行断点的设置，要监视的变量的添加等工作，下面对在这个过程中常会用到的命令逐一进行介绍：</p>
<p>　* list ：显示程序中的代码，常用使用格式有：</p>
<p>　　　　list</p>
<p>　　　　　　输出从上次调用list命令开始往后的10行程序代码。</p>
<p>　　　　list -</p>
<p>　　　　　　输出从上次调用list命令开始往前的10行程序代码。</p>
<p>　　　　list n</p>
<p>　　　　　　输出第n行附近的10行程序代码。</p>
<p>　　　　list function</p>
<p>　　　　　　输出函数function前后的10行程序代码。</p>
<p>　* forward&#x2F;search ：从当前行向后查找匹配某个字符串的程序行。使用格式：</p>
<p>　　　　<strong>forward&#x2F;search 字符串</strong></p>
<p>　　查找到的行号将保存在$_变量中，可以用print $_命令来查看。</p>
<p>　* reverse-search ：和forward&#x2F;search相反，向前查找字符串。使用格式同上。</p>
<p>　* break ：在程序中设置断点，当程序运行到指定行上时，会暂停执行。使用格式：</p>
<p>　　　　break 要设置断点的行号</p>
<p>　* tbreak ：设置临时断点，在设置之后只起作用一次。使用格式：</p>
<p>　　　　tbreak 要设置临时断点的行号</p>
<p>　* clear ：和break相反，clear用于清除断点。使用格式：</p>
<p>　　　　clear 要清除的断点所在的行号</p>
<p>　* run ：启动程序，在run后面带上参数可以传递给正在调试的程序。</p>
<p>　* awatch ：用来增加一个观察点(add watch)，使用格式：</p>
<p>　　　　awatch 变量或表达式</p>
<p>　　当表达式的值发生改变或表达式的值被读取时，程序就会停止运行。</p>
<p>　* watch ：与awatch类似用来设置观察点，但程序只有当表达式的值发生改变时才会停止运行。使用格 式：</p>
<p>　　　　watch 变量或表达式</p>
<p>　　需要注意的是，awatch和watch都必须在程序运行的过程中设置观察点，即可运行run之后才能设置。</p>
<p>　*** commands ：设置在遇到断点后执行特定的指令。**使用格式有：</p>
<p>　　　　commands</p>
<p>　　　　　　设置遇到最后一个遇到的断点时要执行的命令</p>
<p>　　　　commands n</p>
<p>　　　　　　设置遇到断点号n时要执行的命令</p>
<p>　　注意，commands后面跟的是断点号，而不是断点所在的行号。</p>
<p>　　在输入命令后，就可以输入遇到断点后要执行的命令，每行一条命令，在输入最后一条命令后输入end就可以结束输入。</p>
<p>　* delete ：清除断点或自动显示的表达式。使用格式：</p>
<p>　　　　delete 断点号</p>
<p>　* disable ：让指定断点失效。使用格式：</p>
<p>　　　　disable 断点号列表</p>
<p>　　断点号之间用空格间隔开。</p>
<p>　* enable ：和disable相反，恢复失效的断点。使用格式：</p>
<p>　　　　enable 断点编号列表</p>
<p>　* ignore ：忽略断点。使用格式：</p>
<p>　　　　ignore 断点号 忽略次数</p>
<p>　* condition ：设置断点在一定条件下才能生效。使用格式：</p>
<p>　　　　condition 断点号 条件表达式</p>
<p>　* cont&#x2F;continue ：使程序在暂停在断点之后继续运行。使用格式：</p>
<p>　　　　cont</p>
<p>　　　　　　跳过当前断点继续运行。</p>
<p>　　　　cont n</p>
<p>　　　　　　跳过n次断点，继续运行。</p>
<p>　　当n为1时，cont 1即为cont。</p>
<p>　* jump ：让程序跳到指定行开始调试。使用格式：</p>
<p>　　　　jump 行号</p>
<p>　*** next ：继续执行语句，但是跳过子程序的调用**。使用格式：</p>
<p>　　　　next</p>
<p>　　　　　　执行一条语句</p>
<p>　　　　next n</p>
<p>　　　　　　执行n条语句</p>
<p>　* nexti ：单步执行语句，但和next不同的是，它会跟踪到子程序的内部，但不打印出子程序内部的语句。使用格式同上。</p>
<p>　* step ：与next类似，但是它会跟踪到子程序的内部，而且会显示子程序内部的执行情况。使用格式同上。</p>
<p>　* stepi ：与step类似，但是比step更详细，是nexti和step的结合。使用格式同上。</p>
<p>　* whatis ：显示某个变量或表达式的数据类型。使用格式：</p>
<p>　　　　whatis 变量或表达式</p>
<p>　* ptype ：和whatis类似，用于显示数据类型，但是它还可以显示typedef定义的类型等。使用格式：</p>
<p>　　　　ptype 变量或表达式</p>
<p>　* set ：设置程序中变量的值。使用格式：</p>
<p>　　　　set 变量&#x3D;表达式</p>
<p>　　　　set 变量:&#x3D;表达式</p>
<p>　* display ：增加要显示值的表达式。使用格式：</p>
<p>　　　　display 表达式</p>
<p>　* info display ：显示当前所有的要显示值的表达式。</p>
<p>　* delete display&#x2F;undisplay ：删除要显示值的表达式。使用格式：</p>
<p>　　　　delete display&#x2F;undisplay 表达式编号</p>
<p>　* disable display ：暂时不显示一个要表达式的值。使用格式：</p>
<p>　　　　disable display 表达式编号</p>
<p>　* enable display ：与disable display相反，使用表达式恢复显示。使用格式：</p>
<p>　　　　enable display 表达式编号</p>
<p>　*** print ：打印变量或表达式的值。**使用格式：</p>
<p>　　　　print 变量或表达式</p>
<p>　　表达式中有两个符号有特殊含义：$和$$。</p>
<p>　　$表示给定序号的前一个序号，$$表示给定序号的前两个序号。</p>
<p>　　如果$和$$后面不带数字，则给定序号为当前序号。</p>
<p>　* backtrace ：打印指定个数的栈帧(stack frame)。使用格式：</p>
<p>　　　　backtrace 栈帧个数</p>
<p>　* frame ：打印栈帧。使用格式：</p>
<p>　　　　frame 栈帧号</p>
<p>　* info frame ：显示当前栈帧的详细信息。</p>
<p>　* select-frame ：选择栈帧，选择后可以用info frame来显示栈帧信息。使用格式：</p>
<p>　　　　select-frame 栈帧号</p>
<p>　* kill ：结束当前程序的调试。</p>
<p>　* quit ：退出gdb。 </p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2025 Chow
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>